<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=9"/>
        <meta name="generator" content="Doxygen 1.8.17"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <title>Load Master™: com.pekinsoft.rafdb.db.BaseRecordsFile Class Reference</title>
        <link href="../../tabs.css" rel="stylesheet" type="text/css"/>
        <script type="text/javascript" src="../../jquery.js"></script>
        <script type="text/javascript" src="../../dynsections.js"></script>
        <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
        <script type="text/javascript" src="../../search/searchdata.js"></script>
        <script type="text/javascript" src="../../search/search.js"></script>
        <link href="../../doxygen.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
            <div id="titlearea">
                <table cellspacing="0" cellpadding="0">
                    <tbody>
                        <tr style="height: 56px;">
                            <td id="projectlogo"><img alt="Logo" src="../../Northwind48.png"/></td>
                            <td id="projectalign" style="padding-left: 0.5em;">
                                <div id="projectname">Load Master™
                                    &#160;<span id="projectnumber">0.6.8 build 2583</span>
                                </div>
                                <div id="projectbrief">An integrated load tracking and accounting system for owner/operator truck drivers.</div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <!-- end header part -->
            <!-- Generated by Doxygen 1.8.17 -->
            <script type="text/javascript">
            /* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
            var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
            /* @license-end */
            </script>
            <script type="text/javascript" src="../../menudata.js"></script>
            <script type="text/javascript" src="../../menu.js"></script>
            <script type="text/javascript">
            /* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
            $(function() {
              initMenu('../../',true,false,'search.php','Search');
              $(document).ready(function() { init_search(); });
            });
            /* @license-end */</script>
            <div id="main-nav"></div>
            <!-- window showing the filter options -->
            <div id="MSearchSelectWindow"
                 onmouseover="return searchBox.OnSearchSelectShow()"
                 onmouseout="return searchBox.OnSearchSelectHide()"
                 onkeydown="return searchBox.OnSearchSelectKey(event)">
            </div>

            <!-- iframe showing the search results (closed by default) -->
            <div id="MSearchResultsWindow">
                <iframe src="javascript:void(0)" frameborder="0" 
                        name="MSearchResults" id="MSearchResults">
                </iframe>
            </div>

            <div id="nav-path" class="navpath">
                <ul>
                    <li class="navelem"><a class="el" href="../../d8/dee/namespacecom.html">com</a></li><li class="navelem"><a class="el" href="../../db/d3f/namespacecom_1_1pekinsoft.html">pekinsoft</a></li><li class="navelem"><a class="el" href="../../d4/d0c/namespacecom_1_1pekinsoft_1_1rafdb.html">rafdb</a></li><li class="navelem"><a class="el" href="../../dc/dfe/namespacecom_1_1pekinsoft_1_1rafdb_1_1db.html">db</a></li><li class="navelem"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html">BaseRecordsFile</a></li>  </ul>
            </div>
        </div><!-- top -->
        <div class="header">
            <div class="summary">
                <a href="#pub-methods">Public Member Functions</a> &#124;
                <a href="#pro-methods">Protected Member Functions</a> &#124;
                <a href="#pro-attribs">Protected Attributes</a> &#124;
                <a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
                <a href="#pac-methods">Package Functions</a> &#124;
                <a href="../../d4/d28/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile-members.html">List of all members</a>  </div>
            <div class="headertitle">
                <div class="title">com.pekinsoft.rafdb.db.BaseRecordsFile Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
        </div><!--header-->
        <div class="contents">
            <div class="dynheader">
                Inheritance diagram for com.pekinsoft.rafdb.db.BaseRecordsFile:</div>
            <div class="dyncontent">
                <div class="center"><img src="../../db/dde/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile__inherit__graph.png" border="0" usemap="#com_8pekinsoft_8rafdb_8db_8BaseRecordsFile_inherit__map" alt="Inheritance graph"/></div>
                <map name="com_8pekinsoft_8rafdb_8db_8BaseRecordsFile_inherit__map" id="com_8pekinsoft_8rafdb_8db_8BaseRecordsFile_inherit__map">
                    <area shape="rect" title=" " alt="" coords="27,5,235,47"/>
                    <area shape="rect" href="../../d5/da2/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordsFile.html" title=" " alt="" coords="5,95,256,121"/>
                </map>
                <center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
            <table class="memberdecls">
                <tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
                            Public Member Functions</h2></td></tr>
                <tr class="memitem:a2208ae2ab63523976b351d5c3cf91982"><td class="memItemLeft" align="right" valign="top">abstract Enumeration&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a2208ae2ab63523976b351d5c3cf91982">enumerateKeys</a> ()</td></tr>
                <tr class="memdesc:a2208ae2ab63523976b351d5c3cf91982"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an Enumeration of the keys of all records in the database.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a2208ae2ab63523976b351d5c3cf91982">More...</a><br /></td></tr>
                <tr class="separator:a2208ae2ab63523976b351d5c3cf91982"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:adb9a408a501129c1b5beba25c7de5dc3"><td class="memItemLeft" align="right" valign="top">abstract int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#adb9a408a501129c1b5beba25c7de5dc3">getNumRecords</a> ()</td></tr>
                <tr class="memdesc:adb9a408a501129c1b5beba25c7de5dc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of records in the database.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#adb9a408a501129c1b5beba25c7de5dc3">More...</a><br /></td></tr>
                <tr class="separator:adb9a408a501129c1b5beba25c7de5dc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:aab75a40a6186f13e782cfad503aff267"><td class="memItemLeft" align="right" valign="top">abstract boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#aab75a40a6186f13e782cfad503aff267">recordExists</a> (String key)</td></tr>
                <tr class="memdesc:aab75a40a6186f13e782cfad503aff267"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check there is a record with the given key.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#aab75a40a6186f13e782cfad503aff267">More...</a><br /></td></tr>
                <tr class="separator:aab75a40a6186f13e782cfad503aff267"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:aad7bb652bd7cc44627fc69641842a3ea"><td class="memItemLeft" align="right" valign="top">synchronized void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#aad7bb652bd7cc44627fc69641842a3ea">insertRecord</a> (<a class="el" href="../../d9/dc8/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordWriter.html">RecordWriter</a> rw)  throws IOException,                                                           RecordsFileException </td></tr>
                <tr class="memdesc:aad7bb652bd7cc44627fc69641842a3ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new record to the database.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#aad7bb652bd7cc44627fc69641842a3ea">More...</a><br /></td></tr>
                <tr class="separator:aad7bb652bd7cc44627fc69641842a3ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:a987056cc95a8ceb57bcf70669c4fa5c8"><td class="memItemLeft" align="right" valign="top">synchronized void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a987056cc95a8ceb57bcf70669c4fa5c8">quickInsert</a> (<a class="el" href="../../d9/dc8/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordWriter.html">RecordWriter</a> rw)  throws IOException,                                                          RecordsFileException </td></tr>
                <tr class="separator:a987056cc95a8ceb57bcf70669c4fa5c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:a1aa6a7b0bc9102670003083500d131ba"><td class="memItemLeft" align="right" valign="top">synchronized void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a1aa6a7b0bc9102670003083500d131ba">updateRecord</a> (<a class="el" href="../../d9/dc8/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordWriter.html">RecordWriter</a> rw)  throws IOException,                                                           RecordsFileException </td></tr>
                <tr class="memdesc:a1aa6a7b0bc9102670003083500d131ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates an existing record.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a1aa6a7b0bc9102670003083500d131ba">More...</a><br /></td></tr>
                <tr class="separator:a1aa6a7b0bc9102670003083500d131ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:a7d552f4de0e579e897f3ba9d1ea7a7e7"><td class="memItemLeft" align="right" valign="top">synchronized <a class="el" href="../../d5/d13/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordReader.html">RecordReader</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a7d552f4de0e579e897f3ba9d1ea7a7e7">readRecord</a> (String key)  throws IOException,                                                           RecordsFileException </td></tr>
                <tr class="memdesc:a7d552f4de0e579e897f3ba9d1ea7a7e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the requested record from the database.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a7d552f4de0e579e897f3ba9d1ea7a7e7">More...</a><br /></td></tr>
                <tr class="separator:a7d552f4de0e579e897f3ba9d1ea7a7e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:a4973b2852a17a8a9258110801f20a4d4"><td class="memItemLeft" align="right" valign="top">synchronized void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a4973b2852a17a8a9258110801f20a4d4">deleteRecord</a> (String key)  throws IOException,                                                           RecordsFileException </td></tr>
                <tr class="memdesc:a4973b2852a17a8a9258110801f20a4d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes a record from the database.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a4973b2852a17a8a9258110801f20a4d4">More...</a><br /></td></tr>
                <tr class="separator:a4973b2852a17a8a9258110801f20a4d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:af63968f0f8f0611e2fc3a9f3e2d003ca"><td class="memItemLeft" align="right" valign="top">synchronized void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#af63968f0f8f0611e2fc3a9f3e2d003ca">close</a> ()  throws IOException, RecordsFileException </td></tr>
                <tr class="memdesc:af63968f0f8f0611e2fc3a9f3e2d003ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the file.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#af63968f0f8f0611e2fc3a9f3e2d003ca">More...</a><br /></td></tr>
                <tr class="separator:af63968f0f8f0611e2fc3a9f3e2d003ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
            </table><table class="memberdecls">
                <tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
                            Protected Member Functions</h2></td></tr>
                <tr class="memitem:a13c42b65cf0e0225d9421893b3f5ed8e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a13c42b65cf0e0225d9421893b3f5ed8e">BaseRecordsFile</a> (String dbPath, int initialSize)  throws IOException,                                 RecordsFileException </td></tr>
                <tr class="memdesc:a13c42b65cf0e0225d9421893b3f5ed8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new database file, initializing the appropriate headers.Enough space is allocated in the index for the specified file size.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a13c42b65cf0e0225d9421893b3f5ed8e">More...</a><br /></td></tr>
                <tr class="separator:a13c42b65cf0e0225d9421893b3f5ed8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:aef00b4532ce70945396f6744a9c05eb4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#aef00b4532ce70945396f6744a9c05eb4">BaseRecordsFile</a> (String dbPath, String accessFlags)  throws IOException, RecordsFileException </td></tr>
                <tr class="memdesc:aef00b4532ce70945396f6744a9c05eb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens an existing database file and initializes the dataStartPtr.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#aef00b4532ce70945396f6744a9c05eb4">More...</a><br /></td></tr>
                <tr class="separator:aef00b4532ce70945396f6744a9c05eb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:ab3bf493e4b209f1d61ac2473b379c469"><td class="memItemLeft" align="right" valign="top">abstract <a class="el" href="../../d7/d3f/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordHeader.html">RecordHeader</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#ab3bf493e4b209f1d61ac2473b379c469">keyToRecordHeader</a> (String key)  throws RecordsFileException</td></tr>
                <tr class="memdesc:ab3bf493e4b209f1d61ac2473b379c469"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps a key to a record header.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#ab3bf493e4b209f1d61ac2473b379c469">More...</a><br /></td></tr>
                <tr class="separator:ab3bf493e4b209f1d61ac2473b379c469"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:adac1006de15770fb641d67dfbc4ae358"><td class="memItemLeft" align="right" valign="top">abstract <a class="el" href="../../d7/d3f/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordHeader.html">RecordHeader</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#adac1006de15770fb641d67dfbc4ae358">allocateRecord</a> (String key, int dataLength)  throws IOException, RecordsFileException</td></tr>
                <tr class="memdesc:adac1006de15770fb641d67dfbc4ae358"><td class="mdescLeft">&#160;</td><td class="mdescRight">Locates space for a new record of.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#adac1006de15770fb641d67dfbc4ae358">More...</a><br /></td></tr>
                <tr class="separator:adac1006de15770fb641d67dfbc4ae358"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:a5fffbd6a27ca770681d655195791c894"><td class="memItemLeft" align="right" valign="top">abstract <a class="el" href="../../d7/d3f/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordHeader.html">RecordHeader</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a5fffbd6a27ca770681d655195791c894">getRecordAt</a> (long targetFp)  throws RecordsFileException</td></tr>
                <tr class="memdesc:a5fffbd6a27ca770681d655195791c894"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the record to which the target file pointer belongs &mdash; meaning the specified location in the file is part of the record data of the.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a5fffbd6a27ca770681d655195791c894">More...</a><br /></td></tr>
                <tr class="separator:a5fffbd6a27ca770681d655195791c894"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:a2b97a4749d2519f903e14d8b7e4a0333"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a2b97a4749d2519f903e14d8b7e4a0333">getFileLength</a> ()  throws IOException </td></tr>
                <tr class="memdesc:a2b97a4749d2519f903e14d8b7e4a0333"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the length of the file.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a2b97a4749d2519f903e14d8b7e4a0333">More...</a><br /></td></tr>
                <tr class="separator:a2b97a4749d2519f903e14d8b7e4a0333"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:a49aea9e3ec0278f2223e46d56a9c61f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a49aea9e3ec0278f2223e46d56a9c61f9">setFileLength</a> (long len)  throws IOException </td></tr>
                <tr class="memdesc:a49aea9e3ec0278f2223e46d56a9c61f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the file to the length provided.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a49aea9e3ec0278f2223e46d56a9c61f9">More...</a><br /></td></tr>
                <tr class="separator:a49aea9e3ec0278f2223e46d56a9c61f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:aa27df5a9d2f87983a86dc3a354c17c84"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#aa27df5a9d2f87983a86dc3a354c17c84">readNumRecordsHeader</a> ()  throws IOException </td></tr>
                <tr class="memdesc:aa27df5a9d2f87983a86dc3a354c17c84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the number of records in the database file.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#aa27df5a9d2f87983a86dc3a354c17c84">More...</a><br /></td></tr>
                <tr class="separator:aa27df5a9d2f87983a86dc3a354c17c84"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:a8dc38e08b2501a7e025c119213d1ceaf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a8dc38e08b2501a7e025c119213d1ceaf">writeNumRecordsHeader</a> (int numRecords)  throws IOException </td></tr>
                <tr class="memdesc:a8dc38e08b2501a7e025c119213d1ceaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the number of records to the database file.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a8dc38e08b2501a7e025c119213d1ceaf">More...</a><br /></td></tr>
                <tr class="separator:a8dc38e08b2501a7e025c119213d1ceaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:a12345911edbe59cc1d7fafef6d06618c"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a12345911edbe59cc1d7fafef6d06618c">readDataStartHeader</a> ()  throws IOException </td></tr>
                <tr class="memdesc:a12345911edbe59cc1d7fafef6d06618c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the data start pointer header from the file.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a12345911edbe59cc1d7fafef6d06618c">More...</a><br /></td></tr>
                <tr class="separator:a12345911edbe59cc1d7fafef6d06618c"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:a2d6e5e3597793b2c624e80c3330190e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a2d6e5e3597793b2c624e80c3330190e0">writeDataStartPtrHeader</a> (long <a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a077baa0453927675811ddfa32ab067cc">dataStartPtr</a>)  throws IOException </td></tr>
                <tr class="memdesc:a2d6e5e3597793b2c624e80c3330190e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the data start pointer header to the file.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a2d6e5e3597793b2c624e80c3330190e0">More...</a><br /></td></tr>
                <tr class="separator:a2d6e5e3597793b2c624e80c3330190e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:a500ddf5294b29a9006093e128c2f100b"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a500ddf5294b29a9006093e128c2f100b">indexPositionToKeyFp</a> (int pos)</td></tr>
                <tr class="memdesc:a500ddf5294b29a9006093e128c2f100b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a file pointer in the index pointing to the first byte in the key located at the given index position.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a500ddf5294b29a9006093e128c2f100b">More...</a><br /></td></tr>
                <tr class="separator:a500ddf5294b29a9006093e128c2f100b"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:a3940dba7d35375be7aa6ae62430e6096"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a3940dba7d35375be7aa6ae62430e6096">writeRecordHeaderToIndex</a> (<a class="el" href="../../d7/d3f/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordHeader.html">RecordHeader</a> header)  throws IOException </td></tr>
                <tr class="memdesc:a3940dba7d35375be7aa6ae62430e6096"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the ith record header to the index.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a3940dba7d35375be7aa6ae62430e6096">More...</a><br /></td></tr>
                <tr class="separator:a3940dba7d35375be7aa6ae62430e6096"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:a1cbe386e2ca822cd2e772e3676b4fc41"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a1cbe386e2ca822cd2e772e3676b4fc41">addEntryToIndex</a> (String key, <a class="el" href="../../d7/d3f/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordHeader.html">RecordHeader</a> newRecord, int currentNumRecords)  throws IOException, RecordsFileException </td></tr>
                <tr class="memdesc:a1cbe386e2ca822cd2e772e3676b4fc41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Appends an entry to the end of the index.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a1cbe386e2ca822cd2e772e3676b4fc41">More...</a><br /></td></tr>
                <tr class="separator:a1cbe386e2ca822cd2e772e3676b4fc41"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:a7cbd73864dee646462d2f86996c20d11"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a7cbd73864dee646462d2f86996c20d11">deleteEntryFromIndex</a> (String key, <a class="el" href="../../d7/d3f/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordHeader.html">RecordHeader</a> header, int currentNumRecords)  throws IOException, RecordsFileException </td></tr>
                <tr class="memdesc:a7cbd73864dee646462d2f86996c20d11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the record from the index.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a7cbd73864dee646462d2f86996c20d11">More...</a><br /></td></tr>
                <tr class="separator:a7cbd73864dee646462d2f86996c20d11"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:a50272ef7b769010c25c452aa92caa35a"><td class="memItemLeft" align="right" valign="top">byte[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a50272ef7b769010c25c452aa92caa35a">readRecordData</a> (String key)  throws IOException,                                                        RecordsFileException </td></tr>
                <tr class="memdesc:a50272ef7b769010c25c452aa92caa35a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the data for the requested record from the database.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a50272ef7b769010c25c452aa92caa35a">More...</a><br /></td></tr>
                <tr class="separator:a50272ef7b769010c25c452aa92caa35a"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:ab7412b3d054453c8062650e6830818b8"><td class="memItemLeft" align="right" valign="top">byte[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#ab7412b3d054453c8062650e6830818b8">readRecordData</a> (<a class="el" href="../../d7/d3f/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordHeader.html">RecordHeader</a> header)  throws IOException </td></tr>
                <tr class="memdesc:ab7412b3d054453c8062650e6830818b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the data for the requested record from the database.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#ab7412b3d054453c8062650e6830818b8">More...</a><br /></td></tr>
                <tr class="separator:ab7412b3d054453c8062650e6830818b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:a7a8b0444e162b50827d654cf8ac33163"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a7a8b0444e162b50827d654cf8ac33163">writeRecordData</a> (<a class="el" href="../../d7/d3f/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordHeader.html">RecordHeader</a> header, <a class="el" href="../../d9/dc8/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordWriter.html">RecordWriter</a> rw)  throws IOException, RecordsFileException </td></tr>
                <tr class="memdesc:a7a8b0444e162b50827d654cf8ac33163"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the contents of the given record.A.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a7a8b0444e162b50827d654cf8ac33163">More...</a><br /></td></tr>
                <tr class="separator:a7a8b0444e162b50827d654cf8ac33163"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:a30930aebabcfa8e8e86d708ce7c205c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a30930aebabcfa8e8e86d708ce7c205c9">writeRecordData</a> (<a class="el" href="../../d7/d3f/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordHeader.html">RecordHeader</a> header, byte[] data)  throws IOException, RecordsFileException </td></tr>
                <tr class="memdesc:a30930aebabcfa8e8e86d708ce7c205c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the contents of the given record.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a30930aebabcfa8e8e86d708ce7c205c9">More...</a><br /></td></tr>
                <tr class="separator:a30930aebabcfa8e8e86d708ce7c205c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:a1894e5675a82f4596becbd1f20daf4ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a1894e5675a82f4596becbd1f20daf4ef">insureIndexSpace</a> (int requiredNumRecords)  throws IOException,                                                         RecordsFileException </td></tr>
                <tr class="memdesc:a1894e5675a82f4596becbd1f20daf4ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks to see if there is space for an additional index entry.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a1894e5675a82f4596becbd1f20daf4ef">More...</a><br /></td></tr>
                <tr class="separator:a1894e5675a82f4596becbd1f20daf4ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
            </table><table class="memberdecls">
                <tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
                            Protected Attributes</h2></td></tr>
                <tr class="memitem:a077baa0453927675811ddfa32ab067cc"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a077baa0453927675811ddfa32ab067cc">dataStartPtr</a></td></tr>
                <tr class="separator:a077baa0453927675811ddfa32ab067cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
            </table><table class="memberdecls">
                <tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
                            Static Protected Attributes</h2></td></tr>
                <tr class="memitem:a751effbde1eb57ccedb72128015d3800"><td class="memItemLeft" align="right" valign="top">static final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a751effbde1eb57ccedb72128015d3800">FILE_HEADERS_REGION_LENGTH</a> = 16</td></tr>
                <tr class="separator:a751effbde1eb57ccedb72128015d3800"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:a62d468e68d48a20b19d6d5d485e1a11c"><td class="memItemLeft" align="right" valign="top">static final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a62d468e68d48a20b19d6d5d485e1a11c">RECORD_HEADER_LENGTH</a> = 16</td></tr>
                <tr class="separator:a62d468e68d48a20b19d6d5d485e1a11c"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:ac9b165fb2c8e3f2cca1896c37ac0540c"><td class="memItemLeft" align="right" valign="top">static final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#ac9b165fb2c8e3f2cca1896c37ac0540c">MAX_KEY_LENGTH</a> = 64</td></tr>
                <tr class="separator:ac9b165fb2c8e3f2cca1896c37ac0540c"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:ade7fe1c3bb4e0fdce32fd27166f8dd1e"><td class="memItemLeft" align="right" valign="top">static final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#ade7fe1c3bb4e0fdce32fd27166f8dd1e">INDEX_ENTRY_LENGTH</a></td></tr>
                <tr class="separator:ade7fe1c3bb4e0fdce32fd27166f8dd1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:ab6466e9986a4e1576346f849f63286c7"><td class="memItemLeft" align="right" valign="top">static final long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#ab6466e9986a4e1576346f849f63286c7">NUM_RECORDS_HEADER_LOCATION</a> = 0</td></tr>
                <tr class="separator:ab6466e9986a4e1576346f849f63286c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:aab620cb523a614b3e50052d35d53ef49"><td class="memItemLeft" align="right" valign="top">static final long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#aab620cb523a614b3e50052d35d53ef49">DATA_START_HEADER_LOCATION</a> = 4</td></tr>
                <tr class="separator:aab620cb523a614b3e50052d35d53ef49"><td class="memSeparator" colspan="2">&#160;</td></tr>
            </table><table class="memberdecls">
                <tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pac-methods"></a>
                            Package Functions</h2></td></tr>
                <tr class="memitem:a0fd3246c8976366a9f49674bd7fb8847"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a0fd3246c8976366a9f49674bd7fb8847">indexPositionToRecordHeaderFp</a> (int pos)</td></tr>
                <tr class="memdesc:a0fd3246c8976366a9f49674bd7fb8847"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a file pointer in the index pointing to the first byte in the record pointer located at the given index position.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a0fd3246c8976366a9f49674bd7fb8847">More...</a><br /></td></tr>
                <tr class="separator:a0fd3246c8976366a9f49674bd7fb8847"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:acceb1273d504bab30e58c0a88c596f07"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#acceb1273d504bab30e58c0a88c596f07">readKeyFromIndex</a> (int position)  throws IOException </td></tr>
                <tr class="memdesc:acceb1273d504bab30e58c0a88c596f07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the ith key from the index.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#acceb1273d504bab30e58c0a88c596f07">More...</a><br /></td></tr>
                <tr class="separator:acceb1273d504bab30e58c0a88c596f07"><td class="memSeparator" colspan="2">&#160;</td></tr>
                <tr class="memitem:aec816da41751fe784202a4f342fa9a59"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d3f/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordHeader.html">RecordHeader</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#aec816da41751fe784202a4f342fa9a59">readRecordHeaderFromIndex</a> (int position)  throws IOException </td></tr>
                <tr class="memdesc:aec816da41751fe784202a4f342fa9a59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the ith record header from the index.  <a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#aec816da41751fe784202a4f342fa9a59">More...</a><br /></td></tr>
                <tr class="separator:aec816da41751fe784202a4f342fa9a59"><td class="memSeparator" colspan="2">&#160;</td></tr>
            </table>
            <a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
            <div class="textblock"><dl class="section author"><dt>Author</dt><dd>Sean Carrick </dd></dl>

                <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00031">31</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>
            </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
            <a id="a13c42b65cf0e0225d9421893b3f5ed8e"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#a13c42b65cf0e0225d9421893b3f5ed8e">&#9670;&nbsp;</a></span>BaseRecordsFile() <span class="overload">[1/2]</span></h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">com.pekinsoft.rafdb.db.BaseRecordsFile.BaseRecordsFile </td>
                                        <td>(</td>
                                        <td class="paramtype">String&#160;</td>
                                        <td class="paramname"><em>dbPath</em>, </td>
                                    </tr>
                                    <tr>
                                        <td class="paramkey"></td>
                                        <td></td>
                                        <td class="paramtype">int&#160;</td>
                                        <td class="paramname"><em>initialSize</em>&#160;</td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td>)</td>
                                        <td></td><td> throws IOException,                                 <a class="el" href="../../de/d05/classcom_1_1pekinsoft_1_1rafdb_1_1exceptions_1_1RecordsFileException.html">RecordsFileException</a></td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">protected</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Creates a new database file, initializing the appropriate headers.Enough space is allocated in the index for the specified file size. </p>
                    <dl class="params"><dt>Parameters</dt><dd>
                            <table class="params">
                                <tr><td class="paramname">dbPath</td><td>The path to the database file you wish to create. </td></tr>
                                <tr><td class="paramname">initialSize</td><td>The initial size of the database file. </td></tr>
                            </table>
                        </dd>
                    </dl>
                    <dl class="exception"><dt>Exceptions</dt><dd>
                            <table class="exception">
                                <tr><td class="paramname">java.io.IOException</td><td>In the event of an Input/Output error. </td></tr>
                                <tr><td class="paramname"><a class="el" href="../../de/d05/classcom_1_1pekinsoft_1_1rafdb_1_1exceptions_1_1RecordsFileException.html">com.pekinsoft.rafdb.exceptions.RecordsFileException</a></td><td>In the event of an error with the database file itself. </td></tr>
                            </table>
                        </dd>
                    </dl>

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00069">69</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>
                    <div class="fragment"><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                                                     {</div>
                        <div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="comment">// Create the file that we are going to use.</span></div>
                        <div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        File f = <span class="keyword">new</span> File(dbPath);</div>
                        <div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        </div>
                        <div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="comment">// Test whether the file already exists.</span></div>
                        <div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordflow">if</span> ( f.exists() )</div>
                        <div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> RecordsFileException(<span class="stringliteral">&quot;Database already exists: &quot;</span> + dbPath);</div>
                        <div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        </div>
                        <div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        file = <span class="keyword">new</span> RandomAccessFile(f, <span class="stringliteral">&quot;rw&quot;</span>);</div>
                        <div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        </div>
                        <div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <span class="comment">// Record Data Region starts where the (i=1)th index entry would start.</span></div>
                        <div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a077baa0453927675811ddfa32ab067cc">dataStartPtr</a> = <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a500ddf5294b29a9006093e128c2f100b">indexPositionToKeyFp</a>(initialSize);</div>
                        <div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a49aea9e3ec0278f2223e46d56a9c61f9">setFileLength</a>(<a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a077baa0453927675811ddfa32ab067cc">dataStartPtr</a>);</div>
                        <div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a8dc38e08b2501a7e025c119213d1ceaf">writeNumRecordsHeader</a>(0);</div>
                        <div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a2d6e5e3597793b2c624e80c3330190e0">writeDataStartPtrHeader</a>(<a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a077baa0453927675811ddfa32ab067cc">dataStartPtr</a>);</div>
                        <div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    }</div>
                    </div><!-- fragment -->
                </div>
            </div>
            <a id="aef00b4532ce70945396f6744a9c05eb4"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#aef00b4532ce70945396f6744a9c05eb4">&#9670;&nbsp;</a></span>BaseRecordsFile() <span class="overload">[2/2]</span></h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">com.pekinsoft.rafdb.db.BaseRecordsFile.BaseRecordsFile </td>
                                        <td>(</td>
                                        <td class="paramtype">String&#160;</td>
                                        <td class="paramname"><em>dbPath</em>, </td>
                                    </tr>
                                    <tr>
                                        <td class="paramkey"></td>
                                        <td></td>
                                        <td class="paramtype">String&#160;</td>
                                        <td class="paramname"><em>accessFlags</em>&#160;</td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td>)</td>
                                        <td></td><td> throws IOException, <a class="el" href="../../de/d05/classcom_1_1pekinsoft_1_1rafdb_1_1exceptions_1_1RecordsFileException.html">RecordsFileException</a></td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">protected</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Opens an existing database file and initializes the dataStartPtr. </p>
                    <p>The </p><div class="fragment"><div class="line">accessFlags </div>
                    </div><!-- fragment --><p> parameter can be "r" or "rw" &mdash; as defined in </p><div class="fragment"><div class="line">RandomAccessFile </div>
                    </div><!-- fragment --><p> .</p>
                    <dl class="params"><dt>Parameters</dt><dd>
                            <table class="params">
                                <tr><td class="paramname">dbPath</td><td>The path to the database file you wish to open. </td></tr>
                                <tr><td class="paramname">accessFlags</td><td>Determines whether database file is opened in read-only or read/write mode. </td></tr>
                            </table>
                        </dd>
                    </dl>
                    <dl class="exception"><dt>Exceptions</dt><dd>
                            <table class="exception">
                                <tr><td class="paramname">IOException</td><td>In the event of an Input/Output error. </td></tr>
                                <tr><td class="paramname">RecordsFileException</td><td>In the event of an error with the database file itself. </td></tr>
                            </table>
                        </dd>
                    </dl>

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00103">103</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>
                    <div class="fragment"><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                                                                  {</div>
                        <div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="comment">// Create the file that we are going to use.</span></div>
                        <div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        File f = <span class="keyword">new</span> File(dbPath);</div>
                        <div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        </div>
                        <div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="comment">// Test whether the file already exists.</span></div>
                        <div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="keywordflow">if</span> ( !f.exists() )</div>
                        <div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> RecordsFileException(<span class="stringliteral">&quot;Database not found: &quot;</span> + dbPath);</div>
                        <div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        </div>
                        <div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        file = <span class="keyword">new</span> RandomAccessFile(f, accessFlags);</div>
                        <div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a077baa0453927675811ddfa32ab067cc">dataStartPtr</a> = <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a12345911edbe59cc1d7fafef6d06618c">readDataStartHeader</a>();</div>
                        <div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    }</div>
                    </div><!-- fragment -->
                </div>
            </div>
            <h2 class="groupheader">Member Function Documentation</h2>
            <a id="a1cbe386e2ca822cd2e772e3676b4fc41"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#a1cbe386e2ca822cd2e772e3676b4fc41">&#9670;&nbsp;</a></span>addEntryToIndex()</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">void com.pekinsoft.rafdb.db.BaseRecordsFile.addEntryToIndex </td>
                                        <td>(</td>
                                        <td class="paramtype">String&#160;</td>
                                        <td class="paramname"><em>key</em>, </td>
                                    </tr>
                                    <tr>
                                        <td class="paramkey"></td>
                                        <td></td>
                                        <td class="paramtype"><a class="el" href="../../d7/d3f/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordHeader.html">RecordHeader</a>&#160;</td>
                                        <td class="paramname"><em>newRecord</em>, </td>
                                    </tr>
                                    <tr>
                                        <td class="paramkey"></td>
                                        <td></td>
                                        <td class="paramtype">int&#160;</td>
                                        <td class="paramname"><em>currentNumRecords</em>&#160;</td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td>)</td>
                                        <td></td><td> throws IOException, <a class="el" href="../../de/d05/classcom_1_1pekinsoft_1_1rafdb_1_1exceptions_1_1RecordsFileException.html">RecordsFileException</a></td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">protected</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Appends an entry to the end of the index. </p>
                    <p>Assumes that </p><div class="fragment"><div class="line"><a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a1894e5675a82f4596becbd1f20daf4ef">insureIndexSpace</a>() </div>
                    </div><!-- fragment --><p> has already been called.</p>
                    <dl class="params"><dt>Parameters</dt><dd>
                            <table class="params">
                                <tr><td class="paramname">key</td><td>The key for the index to append. </td></tr>
                                <tr><td class="paramname">newRecord</td><td>The new record header to append to the index. </td></tr>
                                <tr><td class="paramname">currentNumRecords</td><td>The current number of records in the database. </td></tr>
                            </table>
                        </dd>
                    </dl>
                    <dl class="exception"><dt>Exceptions</dt><dd>
                            <table class="exception">
                                <tr><td class="paramname">IOException</td><td>In the event an Input/Output error occurs. </td></tr>
                                <tr><td class="paramname">RecordsFileException</td><td>In the event a database error occurs. </td></tr>
                            </table>
                        </dd>
                    </dl>

                    <p>Reimplemented in <a class="el" href="../../d5/da2/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordsFile.html#a52448e42465cc1e200fe9c509c0dee1c">com.pekinsoft.rafdb.db.RecordsFile</a>.</p>

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00309">309</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>
                    <div class="fragment"><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                                                                     {</div>
                        <div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        DbByteArrayOutputStream temp = <span class="keyword">new</span> DbByteArrayOutputStream(<a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#ac9b165fb2c8e3f2cca1896c37ac0540c">MAX_KEY_LENGTH</a>);</div>
                        <div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        (<span class="keyword">new</span> DataOutputStream(temp)).writeUTF(key);</div>
                        <div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        </div>
                        <div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="keywordflow">if</span> ( temp.size() &gt; <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#ac9b165fb2c8e3f2cca1896c37ac0540c">MAX_KEY_LENGTH</a> )</div>
                        <div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> RecordsFileException(<span class="stringliteral">&quot;Key is larger than permitted &quot;</span> + </div>
                        <div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                                        <span class="stringliteral">&quot;size of &quot;</span> + <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#ac9b165fb2c8e3f2cca1896c37ac0540c">MAX_KEY_LENGTH</a> + <span class="stringliteral">&quot; bytes&quot;</span>);</div>
                        <div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        </div>
                        <div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        file.seek(<a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a500ddf5294b29a9006093e128c2f100b">indexPositionToKeyFp</a>(currentNumRecords));</div>
                        <div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        temp.writeTo(file);</div>
                        <div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        file.seek(<a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a0fd3246c8976366a9f49674bd7fb8847">indexPositionToRecordHeaderFp</a>(currentNumRecords));</div>
                        <div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        newRecord.write(file);</div>
                        <div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        newRecord.setIndexPosition(currentNumRecords);</div>
                        <div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a8dc38e08b2501a7e025c119213d1ceaf">writeNumRecordsHeader</a>(currentNumRecords + 1);</div>
                        <div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    }</div>
                    </div><!-- fragment -->
                </div>
            </div>
            <a id="adac1006de15770fb641d67dfbc4ae358"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#adac1006de15770fb641d67dfbc4ae358">&#9670;&nbsp;</a></span>allocateRecord()</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">abstract <a class="el" href="../../d7/d3f/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordHeader.html">RecordHeader</a> com.pekinsoft.rafdb.db.BaseRecordsFile.allocateRecord </td>
                                        <td>(</td>
                                        <td class="paramtype">String&#160;</td>
                                        <td class="paramname"><em>key</em>, </td>
                                    </tr>
                                    <tr>
                                        <td class="paramkey"></td>
                                        <td></td>
                                        <td class="paramtype">int&#160;</td>
                                        <td class="paramname"><em>dataLength</em>&#160;</td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td>)</td>
                                        <td></td><td> throws IOException, <a class="el" href="../../de/d05/classcom_1_1pekinsoft_1_1rafdb_1_1exceptions_1_1RecordsFileException.html">RecordsFileException</a></td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">abstract</span><span class="mlabel">protected</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Locates space for a new record of. </p>
                    <div class="fragment"><div class="line">dataLength </div>
                    </div><!-- fragment --><p> size and initializes a</p><div class="fragment"><div class="line">RecordHeader </div>
                    </div><!-- fragment --><p> .</p>
                    <dl class="params"><dt>Parameters</dt><dd>
                            <table class="params">
                                <tr><td class="paramname">key</td><td>The key for the record. </td></tr>
                                <tr><td class="paramname">dataLength</td><td>The length of the data record. </td></tr>
                            </table>
                        </dd>
                    </dl>
                    <dl class="exception"><dt>Exceptions</dt><dd>
                            <table class="exception">
                                <tr><td class="paramname">IOException</td><td>In the event an Input/Output error occurs. </td></tr>
                                <tr><td class="paramname">RecordsFileException</td><td>In the event of a database error. </td></tr>
                            </table>
                        </dd>
                    </dl>

                    <p>Reimplemented in <a class="el" href="../../d5/da2/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordsFile.html#a291190bd89064962b88610a7757e870a">com.pekinsoft.rafdb.db.RecordsFile</a>.</p>

                </div>
            </div>
            <a id="af63968f0f8f0611e2fc3a9f3e2d003ca"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#af63968f0f8f0611e2fc3a9f3e2d003ca">&#9670;&nbsp;</a></span>close()</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="memname">
                        <tr>
                            <td class="memname">synchronized void com.pekinsoft.rafdb.db.BaseRecordsFile.close </td>
                            <td>(</td>
                            <td class="paramname"></td><td>)</td>
                            <td> throws IOException, <a class="el" href="../../de/d05/classcom_1_1pekinsoft_1_1rafdb_1_1exceptions_1_1RecordsFileException.html">RecordsFileException</a></td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Closes the file. </p>
                    <dl class="exception"><dt>Exceptions</dt><dd>
                            <table class="exception">
                                <tr><td class="paramname">IOException</td><td>In the event an Input/Output error occurs. </td></tr>
                                <tr><td class="paramname">RecordsFileException</td><td>In the event a database error occurs </td></tr>
                            </table>
                        </dd>
                    </dl>

                    <p>Reimplemented in <a class="el" href="../../d5/da2/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordsFile.html#a4689069a28a576c6838097f704d2c0ae">com.pekinsoft.rafdb.db.RecordsFile</a>.</p>

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00585">585</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>
                    <div class="fragment"><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                                                                              {</div>
                        <div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        <span class="keywordflow">try</span> {</div>
                        <div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            file.close();</div>
                        <div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        } <span class="keywordflow">finally</span> {</div>
                        <div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            file = <span class="keyword">null</span>;</div>
                        <div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        }</div>
                        <div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    }</div>
                    </div><!-- fragment -->
                </div>
            </div>
            <a id="a7cbd73864dee646462d2f86996c20d11"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#a7cbd73864dee646462d2f86996c20d11">&#9670;&nbsp;</a></span>deleteEntryFromIndex()</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">void com.pekinsoft.rafdb.db.BaseRecordsFile.deleteEntryFromIndex </td>
                                        <td>(</td>
                                        <td class="paramtype">String&#160;</td>
                                        <td class="paramname"><em>key</em>, </td>
                                    </tr>
                                    <tr>
                                        <td class="paramkey"></td>
                                        <td></td>
                                        <td class="paramtype"><a class="el" href="../../d7/d3f/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordHeader.html">RecordHeader</a>&#160;</td>
                                        <td class="paramname"><em>header</em>, </td>
                                    </tr>
                                    <tr>
                                        <td class="paramkey"></td>
                                        <td></td>
                                        <td class="paramtype">int&#160;</td>
                                        <td class="paramname"><em>currentNumRecords</em>&#160;</td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td>)</td>
                                        <td></td><td> throws IOException, <a class="el" href="../../de/d05/classcom_1_1pekinsoft_1_1rafdb_1_1exceptions_1_1RecordsFileException.html">RecordsFileException</a></td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">protected</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Removes the record from the index. </p>
                    <p>Replaces the target with the entry at the end of the index.</p>
                    <dl class="params"><dt>Parameters</dt><dd>
                            <table class="params">
                                <tr><td class="paramname">key</td><td>The key for the index to remove. </td></tr>
                                <tr><td class="paramname">header</td><td>The record header to remove. </td></tr>
                                <tr><td class="paramname">currentNumRecords</td><td>The current number of records in the database. </td></tr>
                            </table>
                        </dd>
                    </dl>
                    <dl class="exception"><dt>Exceptions</dt><dd>
                            <table class="exception">
                                <tr><td class="paramname">IOException</td><td>In the event an Input/Output error occurs. </td></tr>
                                <tr><td class="paramname">RecordsFileException</td><td>In the event of a database error. </td></tr>
                            </table>
                        </dd>
                    </dl>

                    <p>Reimplemented in <a class="el" href="../../d5/da2/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordsFile.html#ace8c4853a451de0f03d02b73356ddd7e">com.pekinsoft.rafdb.db.RecordsFile</a>.</p>

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00337">337</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>
                    <div class="fragment"><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                                                                          {</div>
                        <div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="keywordflow">if</span> ( header.indexPosition != currentNumRecords - 1 ) {</div>
                        <div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            String lastKey = <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#acceb1273d504bab30e58c0a88c596f07">readKeyFromIndex</a>(currentNumRecords - 1);</div>
                        <div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            RecordHeader last = <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#ab3bf493e4b209f1d61ac2473b379c469">keyToRecordHeader</a>(lastKey);</div>
                        <div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            last.setIndexPosition(header.indexPosition);</div>
                        <div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            file.seek(<a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a500ddf5294b29a9006093e128c2f100b">indexPositionToKeyFp</a>(last.indexPosition));</div>
                        <div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            file.writeUTF(lastKey);</div>
                        <div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            file.seek(<a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a0fd3246c8976366a9f49674bd7fb8847">indexPositionToRecordHeaderFp</a>(last.indexPosition));</div>
                        <div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            last.write(file);</div>
                        <div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        }</div>
                        <div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        </div>
                        <div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a8dc38e08b2501a7e025c119213d1ceaf">writeNumRecordsHeader</a>(currentNumRecords - 1);</div>
                        <div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    }</div>
                    </div><!-- fragment -->
                </div>
            </div>
            <a id="a4973b2852a17a8a9258110801f20a4d4"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#a4973b2852a17a8a9258110801f20a4d4">&#9670;&nbsp;</a></span>deleteRecord()</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="memname">
                        <tr>
                            <td class="memname">synchronized void com.pekinsoft.rafdb.db.BaseRecordsFile.deleteRecord </td>
                            <td>(</td>
                            <td class="paramtype">String&#160;</td>
                            <td class="paramname"><em>key</em></td><td>)</td>
                            <td> throws IOException,                                                           <a class="el" href="../../de/d05/classcom_1_1pekinsoft_1_1rafdb_1_1exceptions_1_1RecordsFileException.html">RecordsFileException</a></td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Deletes a record from the database. </p>
                    <dl class="params"><dt>Parameters</dt><dd>
                            <table class="params">
                                <tr><td class="paramname">key</td><td>The key of the record to delete.</td></tr>
                            </table>
                        </dd>
                    </dl>
                    <dl class="exception"><dt>Exceptions</dt><dd>
                            <table class="exception">
                                <tr><td class="paramname">IOException</td><td>In the event an Input/Output error occurs. </td></tr>
                                <tr><td class="paramname">RecordsFileException</td><td>In the event a database error occurs. </td></tr>
                            </table>
                        </dd>
                    </dl>

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00505">505</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>
                    <div class="fragment"><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                                                                               {</div>
                        <div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        RecordHeader delRec = <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#ab3bf493e4b209f1d61ac2473b379c469">keyToRecordHeader</a>(key);</div>
                        <div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="keywordtype">int</span> currentNumRecords = <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#adb9a408a501129c1b5beba25c7de5dc3">getNumRecords</a>();</div>
                        <div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a2b97a4749d2519f903e14d8b7e4a0333">getFileLength</a>() == delRec.dataPointer + delRec.dataCapacity )</div>
                        <div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            <span class="comment">// Shrink the file since this is the last record in it.</span></div>
                        <div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a49aea9e3ec0278f2223e46d56a9c61f9">setFileLength</a>(delRec.dataPointer);</div>
                        <div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="keywordflow">else</span> {</div>
                        <div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            RecordHeader previous = <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a5fffbd6a27ca770681d655195791c894">getRecordAt</a>(delRec.dataPointer - 1);</div>
                        <div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            </div>
                        <div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            <span class="keywordflow">if</span> ( previous != <span class="keyword">null</span> ) {</div>
                        <div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                <span class="comment">// Append space of deleted record onto previous record.</span></div>
                        <div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                previous.dataCapacity += delRec.dataCapacity;</div>
                        <div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                </div>
                        <div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a3940dba7d35375be7aa6ae62430e6096">writeRecordHeaderToIndex</a>(previous);</div>
                        <div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            } <span class="keywordflow">else</span> {</div>
                        <div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                <span class="comment">// Target record is first in the file and is deleted by adding</span></div>
                        <div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                <span class="comment">//+ its space to the second record.</span></div>
                        <div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                RecordHeader secondRecord = <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a5fffbd6a27ca770681d655195791c894">getRecordAt</a>(delRec.dataPointer + </div>
                        <div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                                                    (<span class="keywordtype">long</span>) delRec.dataCapacity);</div>
                        <div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                </div>
                        <div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                <span class="keywordtype">byte</span>[] data = <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a50272ef7b769010c25c452aa92caa35a">readRecordData</a>(secondRecord);</div>
                        <div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                </div>
                        <div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                secondRecord.dataPointer = delRec.dataPointer;</div>
                        <div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                secondRecord.dataCapacity += delRec.dataCapacity;</div>
                        <div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                </div>
                        <div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a7a8b0444e162b50827d654cf8ac33163">writeRecordData</a>(secondRecord, data);</div>
                        <div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a3940dba7d35375be7aa6ae62430e6096">writeRecordHeaderToIndex</a>(secondRecord);</div>
                        <div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            }</div>
                        <div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        }</div>
                        <div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        </div>
                        <div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a7cbd73864dee646462d2f86996c20d11">deleteEntryFromIndex</a>(key, delRec, currentNumRecords);</div>
                        <div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    }</div>
                    </div><!-- fragment -->
                </div>
            </div>
            <a id="a2208ae2ab63523976b351d5c3cf91982"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#a2208ae2ab63523976b351d5c3cf91982">&#9670;&nbsp;</a></span>enumerateKeys()</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">abstract Enumeration com.pekinsoft.rafdb.db.BaseRecordsFile.enumerateKeys </td>
                                        <td>(</td>
                                        <td class="paramname"></td><td>)</td>
                                        <td></td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">abstract</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Returns an Enumeration of the keys of all records in the database. </p>
                    <dl class="section return"><dt>Returns</dt><dd>Enumeration All keys in the database. </dd></dl>

                    <p>Reimplemented in <a class="el" href="../../d5/da2/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordsFile.html#acb3293f925977e526a469a11aa103364">com.pekinsoft.rafdb.db.RecordsFile</a>.</p>

                </div>
            </div>
            <a id="a2b97a4749d2519f903e14d8b7e4a0333"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#a2b97a4749d2519f903e14d8b7e4a0333">&#9670;&nbsp;</a></span>getFileLength()</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">long com.pekinsoft.rafdb.db.BaseRecordsFile.getFileLength </td>
                                        <td>(</td>
                                        <td class="paramname"></td><td>)</td>
                                        <td> throws IOException</td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">protected</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Gets the length of the file. </p>
                    <p>Used to determine whether the file is big enough for the data or if it needs to be shrunk to save disk space.</p>
                    <dl class="section return"><dt>Returns</dt><dd>int The current length of the file. </dd></dl>
                    <dl class="exception"><dt>Exceptions</dt><dd>
                            <table class="exception">
                                <tr><td class="paramname">IOException</td><td>In the even of an Input/Output error occurs. </td></tr>
                            </table>
                        </dd>
                    </dl>

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00179">179</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>
                    <div class="fragment"><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                                                      {</div>
                        <div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keywordflow">return</span> file.length();</div>
                        <div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    }</div>
                    </div><!-- fragment -->
                </div>
            </div>
            <a id="adb9a408a501129c1b5beba25c7de5dc3"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#adb9a408a501129c1b5beba25c7de5dc3">&#9670;&nbsp;</a></span>getNumRecords()</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">abstract int com.pekinsoft.rafdb.db.BaseRecordsFile.getNumRecords </td>
                                        <td>(</td>
                                        <td class="paramname"></td><td>)</td>
                                        <td></td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">abstract</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Returns the number of records in the database. </p>
                    <dl class="section return"><dt>Returns</dt><dd>int Number of records. </dd></dl>

                    <p>Reimplemented in <a class="el" href="../../d5/da2/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordsFile.html#ac2af8ea19ab1c146577708f1e0af8b07">com.pekinsoft.rafdb.db.RecordsFile</a>.</p>

                </div>
            </div>
            <a id="a5fffbd6a27ca770681d655195791c894"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#a5fffbd6a27ca770681d655195791c894">&#9670;&nbsp;</a></span>getRecordAt()</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">abstract <a class="el" href="../../d7/d3f/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordHeader.html">RecordHeader</a> com.pekinsoft.rafdb.db.BaseRecordsFile.getRecordAt </td>
                                        <td>(</td>
                                        <td class="paramtype">long&#160;</td>
                                        <td class="paramname"><em>targetFp</em></td><td>)</td>
                                        <td> throws <a class="el" href="../../de/d05/classcom_1_1pekinsoft_1_1rafdb_1_1exceptions_1_1RecordsFileException.html">RecordsFileException</a></td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">abstract</span><span class="mlabel">protected</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Returns the record to which the target file pointer belongs &mdash; meaning the specified location in the file is part of the record data of the. </p>
                    <div class="fragment"><div class="line">RecordHeader </div>
                    </div><!-- fragment --><p> which is returned. (O(n) mem accesses)</p>
                    <dl class="params"><dt>Parameters</dt><dd>
                            <table class="params">
                                <tr><td class="paramname">targetFp</td><td>The target file pointer for the record to retrieve. </td></tr>
                            </table>
                        </dd>
                    </dl>
                    <dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d7/d3f/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordHeader.html">RecordHeader</a> The header for the record represented by the file pointer provided. </dd></dl>
                    <dl class="exception"><dt>Exceptions</dt><dd>
                            <table class="exception">
                                <tr><td class="paramname">RecordsFileException</td><td>In the event a database error occurs. </td></tr>
                            </table>
                        </dd>
                    </dl>

                    <p>Reimplemented in <a class="el" href="../../d5/da2/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordsFile.html#a395b75320d570cd4a0b2539d5d217d8d">com.pekinsoft.rafdb.db.RecordsFile</a>.</p>

                </div>
            </div>
            <a id="a500ddf5294b29a9006093e128c2f100b"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#a500ddf5294b29a9006093e128c2f100b">&#9670;&nbsp;</a></span>indexPositionToKeyFp()</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">long com.pekinsoft.rafdb.db.BaseRecordsFile.indexPositionToKeyFp </td>
                                        <td>(</td>
                                        <td class="paramtype">int&#160;</td>
                                        <td class="paramname"><em>pos</em></td><td>)</td>
                                        <td></td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">protected</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Returns a file pointer in the index pointing to the first byte in the key located at the given index position. </p>
                    <dl class="params"><dt>Parameters</dt><dd>
                            <table class="params">
                                <tr><td class="paramname">pos</td><td>Position in the file. </td></tr>
                            </table>
                        </dd>
                    </dl>
                    <dl class="section return"><dt>Returns</dt><dd>The file pointer to the index of the key. </dd></dl>

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00247">247</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>
                    <div class="fragment"><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                                                 {</div>
                        <div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a751effbde1eb57ccedb72128015d3800">FILE_HEADERS_REGION_LENGTH</a> + (<a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#ade7fe1c3bb4e0fdce32fd27166f8dd1e">INDEX_ENTRY_LENGTH</a> * pos);</div>
                        <div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    }</div>
                    </div><!-- fragment -->
                </div>
            </div>
            <a id="a0fd3246c8976366a9f49674bd7fb8847"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#a0fd3246c8976366a9f49674bd7fb8847">&#9670;&nbsp;</a></span>indexPositionToRecordHeaderFp()</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">long com.pekinsoft.rafdb.db.BaseRecordsFile.indexPositionToRecordHeaderFp </td>
                                        <td>(</td>
                                        <td class="paramtype">int&#160;</td>
                                        <td class="paramname"><em>pos</em></td><td>)</td>
                                        <td></td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">package</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Returns a file pointer in the index pointing to the first byte in the record pointer located at the given index position. </p>
                    <dl class="params"><dt>Parameters</dt><dd>
                            <table class="params">
                                <tr><td class="paramname">pos</td><td>The index position from which to retrieve the file pointer. </td></tr>
                            </table>
                        </dd>
                    </dl>
                    <dl class="section return"><dt>Returns</dt><dd>long The file pointer of the index position requested. </dd></dl>

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00259">259</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>
                    <div class="fragment"><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                                                {</div>
                        <div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a751effbde1eb57ccedb72128015d3800">FILE_HEADERS_REGION_LENGTH</a> + (<a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#ade7fe1c3bb4e0fdce32fd27166f8dd1e">INDEX_ENTRY_LENGTH</a> * pos);</div>
                        <div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    }</div>
                    </div><!-- fragment -->
                </div>
            </div>
            <a id="aad7bb652bd7cc44627fc69641842a3ea"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#aad7bb652bd7cc44627fc69641842a3ea">&#9670;&nbsp;</a></span>insertRecord()</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="memname">
                        <tr>
                            <td class="memname">synchronized void com.pekinsoft.rafdb.db.BaseRecordsFile.insertRecord </td>
                            <td>(</td>
                            <td class="paramtype"><a class="el" href="../../d9/dc8/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordWriter.html">RecordWriter</a>&#160;</td>
                            <td class="paramname"><em>rw</em></td><td>)</td>
                            <td> throws IOException,                                                           <a class="el" href="../../de/d05/classcom_1_1pekinsoft_1_1rafdb_1_1exceptions_1_1RecordsFileException.html">RecordsFileException</a></td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Adds a new record to the database. </p>
                    <dl class="params"><dt>Parameters</dt><dd>
                            <table class="params">
                                <tr><td class="paramname">rw</td><td>The new record to write to the database. </td></tr>
                            </table>
                        </dd>
                    </dl>
                    <dl class="exception"><dt>Exceptions</dt><dd>
                            <table class="exception">
                                <tr><td class="paramname">IOException</td><td>In the event an Input/Output error occurs </td></tr>
                                <tr><td class="paramname">RecordsFileException</td><td>In the event a database error occurs. </td></tr>
                            </table>
                        </dd>
                    </dl>

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00360">360</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>
                    <div class="fragment"><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                                                                               {</div>
                        <div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        String key = rw.getKey();</div>
                        <div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        </div>
                        <div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#aab75a40a6186f13e782cfad503aff267">recordExists</a>(key) ) </div>
                        <div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> RecordsFileException(<span class="stringliteral">&quot;Key exists: &quot;</span> + key);</div>
                        <div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        </div>
                        <div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a1894e5675a82f4596becbd1f20daf4ef">insureIndexSpace</a>(<a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#adb9a408a501129c1b5beba25c7de5dc3">getNumRecords</a>() + 1);</div>
                        <div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        </div>
                        <div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        RecordHeader newRecord = <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#adac1006de15770fb641d67dfbc4ae358">allocateRecord</a>(key, rw.getDataLength());</div>
                        <div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a7a8b0444e162b50827d654cf8ac33163">writeRecordData</a>(newRecord, rw);</div>
                        <div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a1cbe386e2ca822cd2e772e3676b4fc41">addEntryToIndex</a>(key, newRecord, <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#adb9a408a501129c1b5beba25c7de5dc3">getNumRecords</a>());</div>
                        <div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    }</div>
                    </div><!-- fragment -->
                </div>
            </div>
            <a id="a1894e5675a82f4596becbd1f20daf4ef"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#a1894e5675a82f4596becbd1f20daf4ef">&#9670;&nbsp;</a></span>insureIndexSpace()</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">void com.pekinsoft.rafdb.db.BaseRecordsFile.insureIndexSpace </td>
                                        <td>(</td>
                                        <td class="paramtype">int&#160;</td>
                                        <td class="paramname"><em>requiredNumRecords</em></td><td>)</td>
                                        <td> throws IOException,                                                         <a class="el" href="../../de/d05/classcom_1_1pekinsoft_1_1rafdb_1_1exceptions_1_1RecordsFileException.html">RecordsFileException</a></td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">protected</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Checks to see if there is space for an additional index entry. </p>
                    <p>If not, space is created by moving records to the end of the file.</p>
                    <dl class="params"><dt>Parameters</dt><dd>
                            <table class="params">
                                <tr><td class="paramname">requiredNumRecords</td><td>The required number of records.</td></tr>
                            </table>
                        </dd>
                    </dl>
                    <dl class="exception"><dt>Exceptions</dt><dd>
                            <table class="exception">
                                <tr><td class="paramname">IOException</td><td>In the event an Input/Output error occurs. </td></tr>
                                <tr><td class="paramname">RecordsFileException</td><td>In the event a database error occurs. </td></tr>
                            </table>
                        </dd>
                    </dl>

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00548">548</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>
                    <div class="fragment"><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                                                                             {</div>
                        <div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="keywordtype">int</span> currentNumRecords = <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#adb9a408a501129c1b5beba25c7de5dc3">getNumRecords</a>();</div>
                        <div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <span class="keywordtype">long</span> endIndexPtr = <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a500ddf5294b29a9006093e128c2f100b">indexPositionToKeyFp</a>(requiredNumRecords);</div>
                        <div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        </div>
                        <div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <span class="keywordflow">if</span> ( endIndexPtr &gt; <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a2b97a4749d2519f903e14d8b7e4a0333">getFileLength</a>() &amp;&amp; currentNumRecords == 0 ) {</div>
                        <div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a49aea9e3ec0278f2223e46d56a9c61f9">setFileLength</a>(endIndexPtr);</div>
                        <div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a077baa0453927675811ddfa32ab067cc">dataStartPtr</a> = endIndexPtr;</div>
                        <div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            </div>
                        <div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a2d6e5e3597793b2c624e80c3330190e0">writeDataStartPtrHeader</a>(<a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a077baa0453927675811ddfa32ab067cc">dataStartPtr</a>);</div>
                        <div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            </div>
                        <div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            <span class="keywordflow">return</span>;</div>
                        <div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        }</div>
                        <div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        </div>
                        <div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="keywordflow">while</span> ( endIndexPtr &gt; <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a077baa0453927675811ddfa32ab067cc">dataStartPtr</a> ) {</div>
                        <div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            RecordHeader first = <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a5fffbd6a27ca770681d655195791c894">getRecordAt</a>(<a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a077baa0453927675811ddfa32ab067cc">dataStartPtr</a>);</div>
                        <div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            <span class="keywordtype">byte</span>[] data = <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a50272ef7b769010c25c452aa92caa35a">readRecordData</a>(first);</div>
                        <div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            </div>
                        <div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            first.dataPointer = <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a2b97a4749d2519f903e14d8b7e4a0333">getFileLength</a>();</div>
                        <div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            first.dataCapacity = data.length;</div>
                        <div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            </div>
                        <div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a49aea9e3ec0278f2223e46d56a9c61f9">setFileLength</a>(first.dataPointer + data.length);</div>
                        <div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            </div>
                        <div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a7a8b0444e162b50827d654cf8ac33163">writeRecordData</a>(first, data);</div>
                        <div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a3940dba7d35375be7aa6ae62430e6096">writeRecordHeaderToIndex</a>(first);</div>
                        <div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            </div>
                        <div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a077baa0453927675811ddfa32ab067cc">dataStartPtr</a> += first.dataCapacity;</div>
                        <div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a2d6e5e3597793b2c624e80c3330190e0">writeDataStartPtrHeader</a>(<a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a077baa0453927675811ddfa32ab067cc">dataStartPtr</a>);</div>
                        <div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        }</div>
                        <div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    }</div>
                    </div><!-- fragment -->
                </div>
            </div>
            <a id="ab3bf493e4b209f1d61ac2473b379c469"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#ab3bf493e4b209f1d61ac2473b379c469">&#9670;&nbsp;</a></span>keyToRecordHeader()</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">abstract <a class="el" href="../../d7/d3f/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordHeader.html">RecordHeader</a> com.pekinsoft.rafdb.db.BaseRecordsFile.keyToRecordHeader </td>
                                        <td>(</td>
                                        <td class="paramtype">String&#160;</td>
                                        <td class="paramname"><em>key</em></td><td>)</td>
                                        <td> throws <a class="el" href="../../de/d05/classcom_1_1pekinsoft_1_1rafdb_1_1exceptions_1_1RecordsFileException.html">RecordsFileException</a></td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">abstract</span><span class="mlabel">protected</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Maps a key to a record header. </p>
                    <dl class="params"><dt>Parameters</dt><dd>
                            <table class="params">
                                <tr><td class="paramname">key</td><td>The key to map. </td></tr>
                            </table>
                        </dd>
                    </dl>
                    <dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d7/d3f/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordHeader.html">RecordHeader</a> containing the map to the record for the given key. </dd></dl>

                    <p>Reimplemented in <a class="el" href="../../d5/da2/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordsFile.html#aa414d1722933fb5cfaa6fc44c23c5694">com.pekinsoft.rafdb.db.RecordsFile</a>.</p>

                </div>
            </div>
            <a id="a987056cc95a8ceb57bcf70669c4fa5c8"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#a987056cc95a8ceb57bcf70669c4fa5c8">&#9670;&nbsp;</a></span>quickInsert()</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="memname">
                        <tr>
                            <td class="memname">synchronized void com.pekinsoft.rafdb.db.BaseRecordsFile.quickInsert </td>
                            <td>(</td>
                            <td class="paramtype"><a class="el" href="../../d9/dc8/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordWriter.html">RecordWriter</a>&#160;</td>
                            <td class="paramname"><em>rw</em></td><td>)</td>
                            <td> throws IOException,                                                          <a class="el" href="../../de/d05/classcom_1_1pekinsoft_1_1rafdb_1_1exceptions_1_1RecordsFileException.html">RecordsFileException</a></td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00375">375</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>
                    <div class="fragment"><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                                                                              {</div>
                        <div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        String key = rw.getKey();</div>
                        <div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        </div>
                        <div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a1894e5675a82f4596becbd1f20daf4ef">insureIndexSpace</a>(<a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#adb9a408a501129c1b5beba25c7de5dc3">getNumRecords</a>() + 1);</div>
                        <div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        </div>
                        <div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        RecordHeader rh = <span class="keyword">new</span> RecordHeader(<a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a077baa0453927675811ddfa32ab067cc">dataStartPtr</a>, rw.getDataLength());</div>
                        <div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a7a8b0444e162b50827d654cf8ac33163">writeRecordData</a>(rh, rw);</div>
                        <div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a1cbe386e2ca822cd2e772e3676b4fc41">addEntryToIndex</a>(key, rh, <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#adb9a408a501129c1b5beba25c7de5dc3">getNumRecords</a>());</div>
                        <div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    }</div>
                    </div><!-- fragment -->
                </div>
            </div>
            <a id="a12345911edbe59cc1d7fafef6d06618c"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#a12345911edbe59cc1d7fafef6d06618c">&#9670;&nbsp;</a></span>readDataStartHeader()</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">long com.pekinsoft.rafdb.db.BaseRecordsFile.readDataStartHeader </td>
                                        <td>(</td>
                                        <td class="paramname"></td><td>)</td>
                                        <td> throws IOException</td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">protected</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Reads the data start pointer header from the file. </p>
                    <dl class="section return"><dt>Returns</dt><dd>long The stored value of the data start location in the database file. </dd></dl>
                    <dl class="exception"><dt>Exceptions</dt><dd>
                            <table class="exception">
                                <tr><td class="paramname">IOException</td><td>In the event of an Input/Output error occurs. </td></tr>
                            </table>
                        </dd>
                    </dl>

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00223">223</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>
                    <div class="fragment"><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                                                            {</div>
                        <div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        file.seek(<a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#aab620cb523a614b3e50052d35d53ef49">DATA_START_HEADER_LOCATION</a>);</div>
                        <div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">return</span> file.readLong();</div>
                        <div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    }</div>
                    </div><!-- fragment -->
                </div>
            </div>
            <a id="acceb1273d504bab30e58c0a88c596f07"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#acceb1273d504bab30e58c0a88c596f07">&#9670;&nbsp;</a></span>readKeyFromIndex()</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">String com.pekinsoft.rafdb.db.BaseRecordsFile.readKeyFromIndex </td>
                                        <td>(</td>
                                        <td class="paramtype">int&#160;</td>
                                        <td class="paramname"><em>position</em></td><td>)</td>
                                        <td> throws IOException</td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">package</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Reads the ith key from the index. </p>
                    <dl class="params"><dt>Parameters</dt><dd>
                            <table class="params">
                                <tr><td class="paramname">position</td><td>The position in the index for the key. </td></tr>
                            </table>
                        </dd>
                    </dl>
                    <dl class="section return"><dt>Returns</dt><dd>String The requested key from the index. </dd></dl>
                    <dl class="exception"><dt>Exceptions</dt><dd>
                            <table class="exception">
                                <tr><td class="paramname">IOException</td><td>In the event an Input/Output error occurs. </td></tr>
                            </table>
                        </dd>
                    </dl>

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00270">270</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>
                    <div class="fragment"><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                                                             {</div>
                        <div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        file.seek(<a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a500ddf5294b29a9006093e128c2f100b">indexPositionToKeyFp</a>(position));</div>
                        <div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordflow">return</span> file.readUTF();</div>
                        <div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    }</div>
                    </div><!-- fragment -->
                </div>
            </div>
            <a id="aa27df5a9d2f87983a86dc3a354c17c84"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#aa27df5a9d2f87983a86dc3a354c17c84">&#9670;&nbsp;</a></span>readNumRecordsHeader()</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">int com.pekinsoft.rafdb.db.BaseRecordsFile.readNumRecordsHeader </td>
                                        <td>(</td>
                                        <td class="paramname"></td><td>)</td>
                                        <td> throws IOException</td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">protected</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Retrieves the number of records in the database file. </p>
                    <dl class="section return"><dt>Returns</dt><dd>int The number of records currently in the database file. </dd></dl>
                    <dl class="exception"><dt>Exceptions</dt><dd>
                            <table class="exception">
                                <tr><td class="paramname">IOException</td><td>In the event of an Input/Output error occurs. </td></tr>
                            </table>
                        </dd>
                    </dl>

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00200">200</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>
                    <div class="fragment"><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                                                            {</div>
                        <div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        file.seek(<a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#ab6466e9986a4e1576346f849f63286c7">NUM_RECORDS_HEADER_LOCATION</a>);</div>
                        <div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keywordflow">return</span> file.readInt();</div>
                        <div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    }</div>
                    </div><!-- fragment -->
                </div>
            </div>
            <a id="a7d552f4de0e579e897f3ba9d1ea7a7e7"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#a7d552f4de0e579e897f3ba9d1ea7a7e7">&#9670;&nbsp;</a></span>readRecord()</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="memname">
                        <tr>
                            <td class="memname">synchronized <a class="el" href="../../d5/d13/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordReader.html">RecordReader</a> com.pekinsoft.rafdb.db.BaseRecordsFile.readRecord </td>
                            <td>(</td>
                            <td class="paramtype">String&#160;</td>
                            <td class="paramname"><em>key</em></td><td>)</td>
                            <td> throws IOException,                                                           <a class="el" href="../../de/d05/classcom_1_1pekinsoft_1_1rafdb_1_1exceptions_1_1RecordsFileException.html">RecordsFileException</a></td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Reads the requested record from the database. </p>
                    <dl class="params"><dt>Parameters</dt><dd>
                            <table class="params">
                                <tr><td class="paramname">key</td><td>The record to retrieve from the database.</td></tr>
                            </table>
                        </dd>
                    </dl>
                    <dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d5/d13/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordReader.html">RecordReader</a> The reader of the record object.</dd></dl>
                    <dl class="exception"><dt>Exceptions</dt><dd>
                            <table class="exception">
                                <tr><td class="paramname">IOException</td><td>In the event an Input/Output error occurs. </td></tr>
                                <tr><td class="paramname">RecordsFileException</td><td>In the even a database error occurs. </td></tr>
                            </table>
                        </dd>
                    </dl>

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00418">418</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>
                    <div class="fragment"><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                                                                               {</div>
                        <div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="keywordtype">byte</span>[] data = <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a50272ef7b769010c25c452aa92caa35a">readRecordData</a>(key);</div>
                        <div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">new</span> RecordReader(key, data);</div>
                        <div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    }</div>
                    </div><!-- fragment -->
                </div>
            </div>
            <a id="ab7412b3d054453c8062650e6830818b8"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#ab7412b3d054453c8062650e6830818b8">&#9670;&nbsp;</a></span>readRecordData() <span class="overload">[1/2]</span></h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">byte [] com.pekinsoft.rafdb.db.BaseRecordsFile.readRecordData </td>
                                        <td>(</td>
                                        <td class="paramtype"><a class="el" href="../../d7/d3f/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordHeader.html">RecordHeader</a>&#160;</td>
                                        <td class="paramname"><em>header</em></td><td>)</td>
                                        <td> throws IOException</td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">protected</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Reads the data for the requested record from the database. </p>
                    <dl class="params"><dt>Parameters</dt><dd>
                            <table class="params">
                                <tr><td class="paramname">header</td><td>The record header for the data to read.</td></tr>
                            </table>
                        </dd>
                    </dl>
                    <dl class="section return"><dt>Returns</dt><dd>byte[] The data from the requested record.</dd></dl>
                    <dl class="exception"><dt>Exceptions</dt><dd>
                            <table class="exception">
                                <tr><td class="paramname">IOException</td><td>In the event an Input/Output error occurs. </td></tr>
                            </table>
                        </dd>
                    </dl>

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00448">448</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>
                    <div class="fragment"><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                                                                            {</div>
                        <div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="keywordtype">byte</span>[] buf = <span class="keyword">new</span> <span class="keywordtype">byte</span>[header.dataCount];</div>
                        <div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        file.seek(header.dataPointer);</div>
                        <div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        file.readFully(buf);</div>
                        <div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <span class="keywordflow">return</span> buf;</div>
                        <div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    }</div>
                    </div><!-- fragment -->
                </div>
            </div>
            <a id="a50272ef7b769010c25c452aa92caa35a"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#a50272ef7b769010c25c452aa92caa35a">&#9670;&nbsp;</a></span>readRecordData() <span class="overload">[2/2]</span></h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">byte [] com.pekinsoft.rafdb.db.BaseRecordsFile.readRecordData </td>
                                        <td>(</td>
                                        <td class="paramtype">String&#160;</td>
                                        <td class="paramname"><em>key</em></td><td>)</td>
                                        <td> throws IOException,                                                        <a class="el" href="../../de/d05/classcom_1_1pekinsoft_1_1rafdb_1_1exceptions_1_1RecordsFileException.html">RecordsFileException</a></td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">protected</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Reads the data for the requested record from the database. </p>
                    <dl class="params"><dt>Parameters</dt><dd>
                            <table class="params">
                                <tr><td class="paramname">key</td><td>The key for the record whose data is to be read.</td></tr>
                            </table>
                        </dd>
                    </dl>
                    <dl class="section return"><dt>Returns</dt><dd>byte[] The data from the requested record.</dd></dl>
                    <dl class="exception"><dt>Exceptions</dt><dd>
                            <table class="exception">
                                <tr><td class="paramname">IOException</td><td>In the event an Input/Output error occurs. </td></tr>
                                <tr><td class="paramname">RecordsFileException</td><td>In the event a database error occurs. </td></tr>
                            </table>
                        </dd>
                    </dl>

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00434">434</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>
                    <div class="fragment"><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                                                                            {</div>
                        <div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a50272ef7b769010c25c452aa92caa35a">readRecordData</a>(<a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#ab3bf493e4b209f1d61ac2473b379c469">keyToRecordHeader</a>(key));</div>
                        <div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    }</div>
                    </div><!-- fragment -->
                </div>
            </div>
            <a id="aec816da41751fe784202a4f342fa9a59"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#aec816da41751fe784202a4f342fa9a59">&#9670;&nbsp;</a></span>readRecordHeaderFromIndex()</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname"><a class="el" href="../../d7/d3f/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordHeader.html">RecordHeader</a> com.pekinsoft.rafdb.db.BaseRecordsFile.readRecordHeaderFromIndex </td>
                                        <td>(</td>
                                        <td class="paramtype">int&#160;</td>
                                        <td class="paramname"><em>position</em></td><td>)</td>
                                        <td> throws IOException</td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">package</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Reads the ith record header from the index. </p>
                    <dl class="params"><dt>Parameters</dt><dd>
                            <table class="params">
                                <tr><td class="paramname">position</td><td>The position in the index for the header. </td></tr>
                            </table>
                        </dd>
                    </dl>
                    <dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d7/d3f/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordHeader.html">RecordHeader</a> The requested record header from the index. </dd></dl>
                    <dl class="exception"><dt>Exceptions</dt><dd>
                            <table class="exception">
                                <tr><td class="paramname">IOException</td><td>In the event an Input/Output error occurs. </td></tr>
                            </table>
                        </dd>
                    </dl>

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00282">282</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>
                    <div class="fragment"><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                                                                            {</div>
                        <div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        file.seek(<a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a0fd3246c8976366a9f49674bd7fb8847">indexPositionToRecordHeaderFp</a>(position));</div>
                        <div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordflow">return</span> RecordHeader.readHeader(file);</div>
                        <div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    }</div>
                    </div><!-- fragment -->
                </div>
            </div>
            <a id="aab75a40a6186f13e782cfad503aff267"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#aab75a40a6186f13e782cfad503aff267">&#9670;&nbsp;</a></span>recordExists()</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">abstract boolean com.pekinsoft.rafdb.db.BaseRecordsFile.recordExists </td>
                                        <td>(</td>
                                        <td class="paramtype">String&#160;</td>
                                        <td class="paramname"><em>key</em></td><td>)</td>
                                        <td></td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">abstract</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Check there is a record with the given key. </p>
                    <dl class="params"><dt>Parameters</dt><dd>
                            <table class="params">
                                <tr><td class="paramname">key</td><td>The key to check. </td></tr>
                            </table>
                        </dd>
                    </dl>
                    <dl class="section return"><dt>Returns</dt><dd>boolean<div class="fragment"><div class="line"><span class="keyword">true</span> </div>
                            </div><!-- fragment --> if the key exists,<div class="fragment"><div class="line"><span class="keyword">false</span> </div>
                            </div><!-- fragment --> otherwise. </dd></dl>

                    <p>Reimplemented in <a class="el" href="../../d5/da2/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordsFile.html#ad6a9f00f0a1155cc75964df951a86d3b">com.pekinsoft.rafdb.db.RecordsFile</a>.</p>

                </div>
            </div>
            <a id="a49aea9e3ec0278f2223e46d56a9c61f9"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#a49aea9e3ec0278f2223e46d56a9c61f9">&#9670;&nbsp;</a></span>setFileLength()</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">void com.pekinsoft.rafdb.db.BaseRecordsFile.setFileLength </td>
                                        <td>(</td>
                                        <td class="paramtype">long&#160;</td>
                                        <td class="paramname"><em>len</em></td><td>)</td>
                                        <td> throws IOException</td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">protected</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Sets the file to the length provided. </p>
                    <p>Used to grow the file as necessary and to initialize a new file.</p>
                    <dl class="params"><dt>Parameters</dt><dd>
                            <table class="params">
                                <tr><td class="paramname">len</td><td>Requested length of the file. </td></tr>
                            </table>
                        </dd>
                    </dl>
                    <dl class="exception"><dt>Exceptions</dt><dd>
                            <table class="exception">
                                <tr><td class="paramname">IOException</td><td>In the event of an Input/Output error occurs. </td></tr>
                            </table>
                        </dd>
                    </dl>

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00190">190</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>
                    <div class="fragment"><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                                                              {</div>
                        <div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        file.setLength(len);</div>
                        <div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    }</div>
                    </div><!-- fragment -->
                </div>
            </div>
            <a id="a1aa6a7b0bc9102670003083500d131ba"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#a1aa6a7b0bc9102670003083500d131ba">&#9670;&nbsp;</a></span>updateRecord()</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="memname">
                        <tr>
                            <td class="memname">synchronized void com.pekinsoft.rafdb.db.BaseRecordsFile.updateRecord </td>
                            <td>(</td>
                            <td class="paramtype"><a class="el" href="../../d9/dc8/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordWriter.html">RecordWriter</a>&#160;</td>
                            <td class="paramname"><em>rw</em></td><td>)</td>
                            <td> throws IOException,                                                           <a class="el" href="../../de/d05/classcom_1_1pekinsoft_1_1rafdb_1_1exceptions_1_1RecordsFileException.html">RecordsFileException</a></td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Updates an existing record. </p>
                    <p>If the new contents do not fit in the orginal record, the the update is handled by deleting the old record and adding the new.</p>
                    <dl class="params"><dt>Parameters</dt><dd>
                            <table class="params">
                                <tr><td class="paramname">rw</td><td>The record to update. </td></tr>
                            </table>
                        </dd>
                    </dl>
                    <dl class="exception"><dt>Exceptions</dt><dd>
                            <table class="exception">
                                <tr><td class="paramname">IOException</td><td>In the event an Input/Output error occurs </td></tr>
                                <tr><td class="paramname">RecordsFileException</td><td>In the event a database error occurs. </td></tr>
                            </table>
                        </dd>
                    </dl>

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00395">395</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>
                    <div class="fragment"><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                                                                               {</div>
                        <div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        RecordHeader header = <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#ab3bf493e4b209f1d61ac2473b379c469">keyToRecordHeader</a>(rw.getKey());</div>
                        <div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        </div>
                        <div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <span class="keywordflow">if</span> ( rw.getDataLength() &gt; header.dataCapacity ) {</div>
                        <div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a4973b2852a17a8a9258110801f20a4d4">deleteRecord</a>(rw.getKey());</div>
                        <div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#aad7bb652bd7cc44627fc69641842a3ea">insertRecord</a>(rw);</div>
                        <div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        } <span class="keywordflow">else</span> {</div>
                        <div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a7a8b0444e162b50827d654cf8ac33163">writeRecordData</a>(header, rw);</div>
                        <div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a3940dba7d35375be7aa6ae62430e6096">writeRecordHeaderToIndex</a>(header);</div>
                        <div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        }</div>
                        <div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    }</div>
                    </div><!-- fragment -->
                </div>
            </div>
            <a id="a2d6e5e3597793b2c624e80c3330190e0"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#a2d6e5e3597793b2c624e80c3330190e0">&#9670;&nbsp;</a></span>writeDataStartPtrHeader()</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">void com.pekinsoft.rafdb.db.BaseRecordsFile.writeDataStartPtrHeader </td>
                                        <td>(</td>
                                        <td class="paramtype">long&#160;</td>
                                        <td class="paramname"><em>dataStartPtr</em></td><td>)</td>
                                        <td> throws IOException</td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">protected</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Writes the data start pointer header to the file. </p>
                    <dl class="params"><dt>Parameters</dt><dd>
                            <table class="params">
                                <tr><td class="paramname">dataStartPtr</td><td>The new data start pointer to store. </td></tr>
                            </table>
                        </dd>
                    </dl>
                    <dl class="exception"><dt>Exceptions</dt><dd>
                            <table class="exception">
                                <tr><td class="paramname">IOException</td><td>In the event of an Input/Output error occurs. </td></tr>
                            </table>
                        </dd>
                    </dl>
                    <dl class="params"><dt>Parameters</dt><dd>
                            <table class="params">
                                <tr><td class="paramname">dataStartPtr</td><td></td></tr>
                            </table>
                        </dd>
                    </dl>

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00235">235</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>
                    <div class="fragment"><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                                                                                 {</div>
                        <div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        file.seek(<a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#aab620cb523a614b3e50052d35d53ef49">DATA_START_HEADER_LOCATION</a>);</div>
                        <div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        file.writeLong(<a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a077baa0453927675811ddfa32ab067cc">dataStartPtr</a>);</div>
                        <div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    }</div>
                    </div><!-- fragment -->
                </div>
            </div>
            <a id="a8dc38e08b2501a7e025c119213d1ceaf"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#a8dc38e08b2501a7e025c119213d1ceaf">&#9670;&nbsp;</a></span>writeNumRecordsHeader()</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">void com.pekinsoft.rafdb.db.BaseRecordsFile.writeNumRecordsHeader </td>
                                        <td>(</td>
                                        <td class="paramtype">int&#160;</td>
                                        <td class="paramname"><em>numRecords</em></td><td>)</td>
                                        <td> throws IOException</td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">protected</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Stores the number of records to the database file. </p>
                    <dl class="params"><dt>Parameters</dt><dd>
                            <table class="params">
                                <tr><td class="paramname">numRecords</td><td>The number of records in the database file. </td></tr>
                            </table>
                        </dd>
                    </dl>
                    <dl class="exception"><dt>Exceptions</dt><dd>
                            <table class="exception">
                                <tr><td class="paramname">IOException</td><td>In the event an Input/Output error occurs. </td></tr>
                            </table>
                        </dd>
                    </dl>

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00211">211</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>
                    <div class="fragment"><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                                                                            {</div>
                        <div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        file.seek(<a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#ab6466e9986a4e1576346f849f63286c7">NUM_RECORDS_HEADER_LOCATION</a>);</div>
                        <div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        file.writeInt(numRecords);</div>
                        <div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    }</div>
                    </div><!-- fragment -->
                </div>
            </div>
            <a id="a30930aebabcfa8e8e86d708ce7c205c9"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#a30930aebabcfa8e8e86d708ce7c205c9">&#9670;&nbsp;</a></span>writeRecordData() <span class="overload">[1/2]</span></h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">void com.pekinsoft.rafdb.db.BaseRecordsFile.writeRecordData </td>
                                        <td>(</td>
                                        <td class="paramtype"><a class="el" href="../../d7/d3f/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordHeader.html">RecordHeader</a>&#160;</td>
                                        <td class="paramname"><em>header</em>, </td>
                                    </tr>
                                    <tr>
                                        <td class="paramkey"></td>
                                        <td></td>
                                        <td class="paramtype">byte[]&#160;</td>
                                        <td class="paramname"><em>data</em>&#160;</td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td>)</td>
                                        <td></td><td> throws IOException, <a class="el" href="../../de/d05/classcom_1_1pekinsoft_1_1rafdb_1_1exceptions_1_1RecordsFileException.html">RecordsFileException</a></td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">protected</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Updates the contents of the given record. </p>
                    <p>A</p><div class="fragment"><div class="line">RecordsFileException </div>
                    </div><!-- fragment --><p> is thrown if the data does not fit in the space allocated to the record. The header's data count is updated, but not written to the file.</p>
                    <dl class="params"><dt>Parameters</dt><dd>
                            <table class="params">
                                <tr><td class="paramname">header</td><td>The header of the record to update. </td></tr>
                                <tr><td class="paramname">data</td><td>The data to update into the record.</td></tr>
                            </table>
                        </dd>
                    </dl>
                    <dl class="exception"><dt>Exceptions</dt><dd>
                            <table class="exception">
                                <tr><td class="paramname">IOException</td><td>In the event an Input/Output error occurs. </td></tr>
                                <tr><td class="paramname">RecordsFileException</td><td>In the event a database error occurs. </td></tr>
                            </table>
                        </dd>
                    </dl>

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00487">487</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>
                    <div class="fragment"><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                                                                              {</div>
                        <div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <span class="keywordflow">if</span> ( data.length &gt; header.dataCapacity )</div>
                        <div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> RecordsFileException(<span class="stringliteral">&quot;Record data does not fit.&quot;</span>);</div>
                        <div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        </div>
                        <div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        header.dataCount = data.length;</div>
                        <div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        file.seek(header.dataPointer);</div>
                        <div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        file.write(data, 0, data.length);</div>
                        <div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    }</div>
                    </div><!-- fragment -->
                </div>
            </div>
            <a id="a7a8b0444e162b50827d654cf8ac33163"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#a7a8b0444e162b50827d654cf8ac33163">&#9670;&nbsp;</a></span>writeRecordData() <span class="overload">[2/2]</span></h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">void com.pekinsoft.rafdb.db.BaseRecordsFile.writeRecordData </td>
                                        <td>(</td>
                                        <td class="paramtype"><a class="el" href="../../d7/d3f/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordHeader.html">RecordHeader</a>&#160;</td>
                                        <td class="paramname"><em>header</em>, </td>
                                    </tr>
                                    <tr>
                                        <td class="paramkey"></td>
                                        <td></td>
                                        <td class="paramtype"><a class="el" href="../../d9/dc8/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordWriter.html">RecordWriter</a>&#160;</td>
                                        <td class="paramname"><em>rw</em>&#160;</td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td>)</td>
                                        <td></td><td> throws IOException, <a class="el" href="../../de/d05/classcom_1_1pekinsoft_1_1rafdb_1_1exceptions_1_1RecordsFileException.html">RecordsFileException</a></td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">protected</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Updates the contents of the given record.A. </p>
                    <div class="fragment"><div class="line">RecordsFileException </div>
                    </div><!-- fragment --><p> is thrown if the new data does not fit in the space allocated to the record.The header's data count is updated, but not written to the file.</p>
                    <dl class="params"><dt>Parameters</dt><dd>
                            <table class="params">
                                <tr><td class="paramname">header</td><td>The header of the record to write to the file. </td></tr>
                                <tr><td class="paramname">rw</td><td>The<div class="fragment"><div class="line">RecordWriter </div>
                                        </div><!-- fragment --> object to use to write the data to the file. </td></tr>
                            </table>
                        </dd>
                    </dl>
                    <dl class="exception"><dt>Exceptions</dt><dd>
                            <table class="exception">
                                <tr><td class="paramname">IOException</td><td>In the event an Input/Output error occurs. </td></tr>
                                <tr><td class="paramname">RecordsFileException</td><td>In the event a database error occurs. </td></tr>
                            </table>
                        </dd>
                    </dl>

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00466">466</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>
                    <div class="fragment"><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                                                                              {</div>
                        <div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="keywordflow">if</span> ( rw.getDataLength() &gt; header.dataCapacity )</div>
                        <div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> RecordsFileException(<span class="stringliteral">&quot;Record data does not fit.&quot;</span>);</div>
                        <div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        </div>
                        <div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        header.dataCount = rw.getDataLength();</div>
                        <div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        file.seek(header.dataPointer);</div>
                        <div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        rw.writeTo((DataOutput)file);</div>
                        <div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    }</div>
                    </div><!-- fragment -->
                </div>
            </div>
            <a id="a3940dba7d35375be7aa6ae62430e6096"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#a3940dba7d35375be7aa6ae62430e6096">&#9670;&nbsp;</a></span>writeRecordHeaderToIndex()</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">void com.pekinsoft.rafdb.db.BaseRecordsFile.writeRecordHeaderToIndex </td>
                                        <td>(</td>
                                        <td class="paramtype"><a class="el" href="../../d7/d3f/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordHeader.html">RecordHeader</a>&#160;</td>
                                        <td class="paramname"><em>header</em></td><td>)</td>
                                        <td> throws IOException</td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">protected</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p>Writes the ith record header to the index. </p>
                    <dl class="params"><dt>Parameters</dt><dd>
                            <table class="params">
                                <tr><td class="paramname">header</td><td>The <a class="el" href="../../d7/d3f/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1RecordHeader.html">RecordHeader</a> object to write. </td></tr>
                            </table>
                        </dd>
                    </dl>
                    <dl class="exception"><dt>Exceptions</dt><dd>
                            <table class="exception">
                                <tr><td class="paramname">IOException</td><td>In the event an Input/Output error occurs. </td></tr>
                            </table>
                        </dd>
                    </dl>

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00293">293</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>
                    <div class="fragment"><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                                            {</div>
                        <div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        file.seek(<a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a0fd3246c8976366a9f49674bd7fb8847">indexPositionToRecordHeaderFp</a>(header.indexPosition));</div>
                        <div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        header.write(file);</div>
                        <div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    }</div>
                    </div><!-- fragment -->
                </div>
            </div>
            <h2 class="groupheader">Member Data Documentation</h2>
            <a id="aab620cb523a614b3e50052d35d53ef49"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#aab620cb523a614b3e50052d35d53ef49">&#9670;&nbsp;</a></span>DATA_START_HEADER_LOCATION</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">final long com.pekinsoft.rafdb.db.BaseRecordsFile.DATA_START_HEADER_LOCATION = 4</td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00056">56</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>

                </div>
            </div>
            <a id="a077baa0453927675811ddfa32ab067cc"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#a077baa0453927675811ddfa32ab067cc">&#9670;&nbsp;</a></span>dataStartPtr</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">long com.pekinsoft.rafdb.db.BaseRecordsFile.dataStartPtr</td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">protected</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00039">39</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>

                </div>
            </div>
            <a id="a751effbde1eb57ccedb72128015d3800"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#a751effbde1eb57ccedb72128015d3800">&#9670;&nbsp;</a></span>FILE_HEADERS_REGION_LENGTH</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">final int com.pekinsoft.rafdb.db.BaseRecordsFile.FILE_HEADERS_REGION_LENGTH = 16</td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00044">44</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>

                </div>
            </div>
            <a id="ade7fe1c3bb4e0fdce32fd27166f8dd1e"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#ade7fe1c3bb4e0fdce32fd27166f8dd1e">&#9670;&nbsp;</a></span>INDEX_ENTRY_LENGTH</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">final int com.pekinsoft.rafdb.db.BaseRecordsFile.INDEX_ENTRY_LENGTH</td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">
                    <b>Initial value:</b><div class="fragment"><div class="line">= <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#ac9b165fb2c8e3f2cca1896c37ac0540c">MAX_KEY_LENGTH</a> + </div>
                        <div class="line">                                                    <a class="code" href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a62d468e68d48a20b19d6d5d485e1a11c">RECORD_HEADER_LENGTH</a></div>
                    </div><!-- fragment -->
                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00051">51</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>

                </div>
            </div>
            <a id="ac9b165fb2c8e3f2cca1896c37ac0540c"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#ac9b165fb2c8e3f2cca1896c37ac0540c">&#9670;&nbsp;</a></span>MAX_KEY_LENGTH</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">final int com.pekinsoft.rafdb.db.BaseRecordsFile.MAX_KEY_LENGTH = 64</td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00048">48</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>

                </div>
            </div>
            <a id="ab6466e9986a4e1576346f849f63286c7"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#ab6466e9986a4e1576346f849f63286c7">&#9670;&nbsp;</a></span>NUM_RECORDS_HEADER_LOCATION</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">final long com.pekinsoft.rafdb.db.BaseRecordsFile.NUM_RECORDS_HEADER_LOCATION = 0</td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00054">54</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>

                </div>
            </div>
            <a id="a62d468e68d48a20b19d6d5d485e1a11c"></a>
            <h2 class="memtitle"><span class="permalink"><a href="#a62d468e68d48a20b19d6d5d485e1a11c">&#9670;&nbsp;</a></span>RECORD_HEADER_LENGTH</h2>

            <div class="memitem">
                <div class="memproto">
                    <table class="mlabels">
                        <tr>
                            <td class="mlabels-left">
                                <table class="memname">
                                    <tr>
                                        <td class="memname">final int com.pekinsoft.rafdb.db.BaseRecordsFile.RECORD_HEADER_LENGTH = 16</td>
                                    </tr>
                                </table>
                            </td>
                            <td class="mlabels-right">
                                <span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
                        </tr>
                    </table>
                </div><div class="memdoc">

                    <p class="definition">Definition at line <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html#l00046">46</a> of file <a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a>.</p>

                </div>
            </div>
            <hr/>The documentation for this class was generated from the following file:<ul>
                <li>raf-db/RAF Database System/src/com/pekinsoft/rafdb/db/<a class="el" href="../../d5/d68/BaseRecordsFile_8java_source.html">BaseRecordsFile.java</a></li>
            </ul>
        </div><!-- contents -->
        <div class="ttc" id="aclasscom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile_html_a077baa0453927675811ddfa32ab067cc"><div class="ttname"><a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a077baa0453927675811ddfa32ab067cc">com.pekinsoft.rafdb.db.BaseRecordsFile.dataStartPtr</a></div><div class="ttdeci">long dataStartPtr</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d68/BaseRecordsFile_8java_source.html#l00039">BaseRecordsFile.java:39</a></div></div>
        <div class="ttc" id="aclasscom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile_html_a4973b2852a17a8a9258110801f20a4d4"><div class="ttname"><a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a4973b2852a17a8a9258110801f20a4d4">com.pekinsoft.rafdb.db.BaseRecordsFile.deleteRecord</a></div><div class="ttdeci">synchronized void deleteRecord(String key)</div><div class="ttdoc">Deletes a record from the database.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d68/BaseRecordsFile_8java_source.html#l00505">BaseRecordsFile.java:505</a></div></div>
        <div class="ttc" id="aclasscom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile_html_a50272ef7b769010c25c452aa92caa35a"><div class="ttname"><a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a50272ef7b769010c25c452aa92caa35a">com.pekinsoft.rafdb.db.BaseRecordsFile.readRecordData</a></div><div class="ttdeci">byte[] readRecordData(String key)</div><div class="ttdoc">Reads the data for the requested record from the database.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d68/BaseRecordsFile_8java_source.html#l00434">BaseRecordsFile.java:434</a></div></div>
        <div class="ttc" id="aclasscom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile_html_a8dc38e08b2501a7e025c119213d1ceaf"><div class="ttname"><a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a8dc38e08b2501a7e025c119213d1ceaf">com.pekinsoft.rafdb.db.BaseRecordsFile.writeNumRecordsHeader</a></div><div class="ttdeci">void writeNumRecordsHeader(int numRecords)</div><div class="ttdoc">Stores the number of records to the database file.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d68/BaseRecordsFile_8java_source.html#l00211">BaseRecordsFile.java:211</a></div></div>
        <div class="ttc" id="aclasscom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile_html_a2d6e5e3597793b2c624e80c3330190e0"><div class="ttname"><a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a2d6e5e3597793b2c624e80c3330190e0">com.pekinsoft.rafdb.db.BaseRecordsFile.writeDataStartPtrHeader</a></div><div class="ttdeci">void writeDataStartPtrHeader(long dataStartPtr)</div><div class="ttdoc">Writes the data start pointer header to the file.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d68/BaseRecordsFile_8java_source.html#l00235">BaseRecordsFile.java:235</a></div></div>
        <div class="ttc" id="aclasscom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile_html_acceb1273d504bab30e58c0a88c596f07"><div class="ttname"><a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#acceb1273d504bab30e58c0a88c596f07">com.pekinsoft.rafdb.db.BaseRecordsFile.readKeyFromIndex</a></div><div class="ttdeci">String readKeyFromIndex(int position)</div><div class="ttdoc">Reads the ith key from the index.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d68/BaseRecordsFile_8java_source.html#l00270">BaseRecordsFile.java:270</a></div></div>
        <div class="ttc" id="aclasscom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile_html_a7cbd73864dee646462d2f86996c20d11"><div class="ttname"><a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a7cbd73864dee646462d2f86996c20d11">com.pekinsoft.rafdb.db.BaseRecordsFile.deleteEntryFromIndex</a></div><div class="ttdeci">void deleteEntryFromIndex(String key, RecordHeader header, int currentNumRecords)</div><div class="ttdoc">Removes the record from the index.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d68/BaseRecordsFile_8java_source.html#l00337">BaseRecordsFile.java:337</a></div></div>
        <div class="ttc" id="aclasscom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile_html_a3940dba7d35375be7aa6ae62430e6096"><div class="ttname"><a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a3940dba7d35375be7aa6ae62430e6096">com.pekinsoft.rafdb.db.BaseRecordsFile.writeRecordHeaderToIndex</a></div><div class="ttdeci">void writeRecordHeaderToIndex(RecordHeader header)</div><div class="ttdoc">Writes the ith record header to the index.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d68/BaseRecordsFile_8java_source.html#l00293">BaseRecordsFile.java:293</a></div></div>
        <div class="ttc" id="aclasscom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile_html_a62d468e68d48a20b19d6d5d485e1a11c"><div class="ttname"><a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a62d468e68d48a20b19d6d5d485e1a11c">com.pekinsoft.rafdb.db.BaseRecordsFile.RECORD_HEADER_LENGTH</a></div><div class="ttdeci">static final int RECORD_HEADER_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d68/BaseRecordsFile_8java_source.html#l00046">BaseRecordsFile.java:46</a></div></div>
        <div class="ttc" id="aclasscom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile_html_a0fd3246c8976366a9f49674bd7fb8847"><div class="ttname"><a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a0fd3246c8976366a9f49674bd7fb8847">com.pekinsoft.rafdb.db.BaseRecordsFile.indexPositionToRecordHeaderFp</a></div><div class="ttdeci">long indexPositionToRecordHeaderFp(int pos)</div><div class="ttdoc">Returns a file pointer in the index pointing to the first byte in the record pointer located at the g...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d68/BaseRecordsFile_8java_source.html#l00259">BaseRecordsFile.java:259</a></div></div>
        <div class="ttc" id="aclasscom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile_html_aab75a40a6186f13e782cfad503aff267"><div class="ttname"><a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#aab75a40a6186f13e782cfad503aff267">com.pekinsoft.rafdb.db.BaseRecordsFile.recordExists</a></div><div class="ttdeci">abstract boolean recordExists(String key)</div><div class="ttdoc">Check there is a record with the given key.</div></div>
        <div class="ttc" id="aclasscom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile_html_a1894e5675a82f4596becbd1f20daf4ef"><div class="ttname"><a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a1894e5675a82f4596becbd1f20daf4ef">com.pekinsoft.rafdb.db.BaseRecordsFile.insureIndexSpace</a></div><div class="ttdeci">void insureIndexSpace(int requiredNumRecords)</div><div class="ttdoc">Checks to see if there is space for an additional index entry.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d68/BaseRecordsFile_8java_source.html#l00548">BaseRecordsFile.java:548</a></div></div>
        <div class="ttc" id="aclasscom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile_html_ab6466e9986a4e1576346f849f63286c7"><div class="ttname"><a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#ab6466e9986a4e1576346f849f63286c7">com.pekinsoft.rafdb.db.BaseRecordsFile.NUM_RECORDS_HEADER_LOCATION</a></div><div class="ttdeci">static final long NUM_RECORDS_HEADER_LOCATION</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d68/BaseRecordsFile_8java_source.html#l00054">BaseRecordsFile.java:54</a></div></div>
        <div class="ttc" id="aclasscom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile_html_a12345911edbe59cc1d7fafef6d06618c"><div class="ttname"><a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a12345911edbe59cc1d7fafef6d06618c">com.pekinsoft.rafdb.db.BaseRecordsFile.readDataStartHeader</a></div><div class="ttdeci">long readDataStartHeader()</div><div class="ttdoc">Reads the data start pointer header from the file.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d68/BaseRecordsFile_8java_source.html#l00223">BaseRecordsFile.java:223</a></div></div>
        <div class="ttc" id="aclasscom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile_html_adb9a408a501129c1b5beba25c7de5dc3"><div class="ttname"><a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#adb9a408a501129c1b5beba25c7de5dc3">com.pekinsoft.rafdb.db.BaseRecordsFile.getNumRecords</a></div><div class="ttdeci">abstract int getNumRecords()</div><div class="ttdoc">Returns the number of records in the database.</div></div>
        <div class="ttc" id="aclasscom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile_html_a751effbde1eb57ccedb72128015d3800"><div class="ttname"><a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a751effbde1eb57ccedb72128015d3800">com.pekinsoft.rafdb.db.BaseRecordsFile.FILE_HEADERS_REGION_LENGTH</a></div><div class="ttdeci">static final int FILE_HEADERS_REGION_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d68/BaseRecordsFile_8java_source.html#l00044">BaseRecordsFile.java:44</a></div></div>
        <div class="ttc" id="aclasscom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile_html_a49aea9e3ec0278f2223e46d56a9c61f9"><div class="ttname"><a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a49aea9e3ec0278f2223e46d56a9c61f9">com.pekinsoft.rafdb.db.BaseRecordsFile.setFileLength</a></div><div class="ttdeci">void setFileLength(long len)</div><div class="ttdoc">Sets the file to the length provided.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d68/BaseRecordsFile_8java_source.html#l00190">BaseRecordsFile.java:190</a></div></div>
        <div class="ttc" id="aclasscom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile_html_a5fffbd6a27ca770681d655195791c894"><div class="ttname"><a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a5fffbd6a27ca770681d655195791c894">com.pekinsoft.rafdb.db.BaseRecordsFile.getRecordAt</a></div><div class="ttdeci">abstract RecordHeader getRecordAt(long targetFp)</div><div class="ttdoc">Returns the record to which the target file pointer belongs — meaning the specified location in the f...</div></div>
        <div class="ttc" id="aclasscom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile_html_a2b97a4749d2519f903e14d8b7e4a0333"><div class="ttname"><a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a2b97a4749d2519f903e14d8b7e4a0333">com.pekinsoft.rafdb.db.BaseRecordsFile.getFileLength</a></div><div class="ttdeci">long getFileLength()</div><div class="ttdoc">Gets the length of the file.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d68/BaseRecordsFile_8java_source.html#l00179">BaseRecordsFile.java:179</a></div></div>
        <div class="ttc" id="aclasscom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile_html_aab620cb523a614b3e50052d35d53ef49"><div class="ttname"><a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#aab620cb523a614b3e50052d35d53ef49">com.pekinsoft.rafdb.db.BaseRecordsFile.DATA_START_HEADER_LOCATION</a></div><div class="ttdeci">static final long DATA_START_HEADER_LOCATION</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d68/BaseRecordsFile_8java_source.html#l00056">BaseRecordsFile.java:56</a></div></div>
        <div class="ttc" id="aclasscom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile_html_a1cbe386e2ca822cd2e772e3676b4fc41"><div class="ttname"><a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a1cbe386e2ca822cd2e772e3676b4fc41">com.pekinsoft.rafdb.db.BaseRecordsFile.addEntryToIndex</a></div><div class="ttdeci">void addEntryToIndex(String key, RecordHeader newRecord, int currentNumRecords)</div><div class="ttdoc">Appends an entry to the end of the index.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d68/BaseRecordsFile_8java_source.html#l00309">BaseRecordsFile.java:309</a></div></div>
        <div class="ttc" id="aclasscom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile_html_adac1006de15770fb641d67dfbc4ae358"><div class="ttname"><a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#adac1006de15770fb641d67dfbc4ae358">com.pekinsoft.rafdb.db.BaseRecordsFile.allocateRecord</a></div><div class="ttdeci">abstract RecordHeader allocateRecord(String key, int dataLength)</div><div class="ttdoc">Locates space for a new record of.</div></div>
        <div class="ttc" id="aclasscom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile_html_ade7fe1c3bb4e0fdce32fd27166f8dd1e"><div class="ttname"><a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#ade7fe1c3bb4e0fdce32fd27166f8dd1e">com.pekinsoft.rafdb.db.BaseRecordsFile.INDEX_ENTRY_LENGTH</a></div><div class="ttdeci">static final int INDEX_ENTRY_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d68/BaseRecordsFile_8java_source.html#l00051">BaseRecordsFile.java:51</a></div></div>
        <div class="ttc" id="aclasscom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile_html_a7a8b0444e162b50827d654cf8ac33163"><div class="ttname"><a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a7a8b0444e162b50827d654cf8ac33163">com.pekinsoft.rafdb.db.BaseRecordsFile.writeRecordData</a></div><div class="ttdeci">void writeRecordData(RecordHeader header, RecordWriter rw)</div><div class="ttdoc">Updates the contents of the given record.A.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d68/BaseRecordsFile_8java_source.html#l00466">BaseRecordsFile.java:466</a></div></div>
        <div class="ttc" id="aclasscom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile_html_aad7bb652bd7cc44627fc69641842a3ea"><div class="ttname"><a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#aad7bb652bd7cc44627fc69641842a3ea">com.pekinsoft.rafdb.db.BaseRecordsFile.insertRecord</a></div><div class="ttdeci">synchronized void insertRecord(RecordWriter rw)</div><div class="ttdoc">Adds a new record to the database.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d68/BaseRecordsFile_8java_source.html#l00360">BaseRecordsFile.java:360</a></div></div>
        <div class="ttc" id="aclasscom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile_html_ab3bf493e4b209f1d61ac2473b379c469"><div class="ttname"><a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#ab3bf493e4b209f1d61ac2473b379c469">com.pekinsoft.rafdb.db.BaseRecordsFile.keyToRecordHeader</a></div><div class="ttdeci">abstract RecordHeader keyToRecordHeader(String key)</div><div class="ttdoc">Maps a key to a record header.</div></div>
        <div class="ttc" id="aclasscom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile_html_a500ddf5294b29a9006093e128c2f100b"><div class="ttname"><a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#a500ddf5294b29a9006093e128c2f100b">com.pekinsoft.rafdb.db.BaseRecordsFile.indexPositionToKeyFp</a></div><div class="ttdeci">long indexPositionToKeyFp(int pos)</div><div class="ttdoc">Returns a file pointer in the index pointing to the first byte in the key located at the given index ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d68/BaseRecordsFile_8java_source.html#l00247">BaseRecordsFile.java:247</a></div></div>
        <div class="ttc" id="aclasscom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile_html_ac9b165fb2c8e3f2cca1896c37ac0540c"><div class="ttname"><a href="../../d8/ddb/classcom_1_1pekinsoft_1_1rafdb_1_1db_1_1BaseRecordsFile.html#ac9b165fb2c8e3f2cca1896c37ac0540c">com.pekinsoft.rafdb.db.BaseRecordsFile.MAX_KEY_LENGTH</a></div><div class="ttdeci">static final int MAX_KEY_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d68/BaseRecordsFile_8java_source.html#l00048">BaseRecordsFile.java:48</a></div></div>
        <!-- start footer part -->
        <hr class="footer"/><address class="footer"><small>
                Generated by &#160;<a href="http://www.doxygen.org/index.html">
                    <img class="footer" src="../../doxygen.png" alt="doxygen"/>
                </a> 1.8.17
            </small></address>
    </body>
</html>
